"use strict";(self.webpackChunkproyecto=self.webpackChunkproyecto||[]).push([[646],{3646:(k,f,d)=>{d.r(f),d.d(f,{AdminModule:()=>U});var v=d(9808),s=d(4100),_=d(1907),t=d(5e3),b=d(520),m=d(2340);let Z=(()=>{class o{constructor(n){this.http=n}newPoleron(n){return this.http.post(m.N.APIUrl+"/api/admin/poleron",n)}getPolerones(n){let e;return n&&(e=(new b.LE).append("id",n)),this.http.get(m.N.APIUrl+"/api/admin/Poleron",{params:e})}deletePoleron(n){return this.http.delete(m.N.APIUrl+"/api/admin/Poleron/"+n)}updatePoleron(n){return this.http.put(m.N.APIUrl+"/api/admin/Poleron",n,{})}updateStock(n,e){return this.http.put(m.N.APIUrl+"/api/admin/stock",{id:n,cantidad:e})}}return o.\u0275fac=function(n){return new(n||o)(t.LFG(b.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var i=d(3075);let C=(()=>{class o{constructor(n,e,r,a){this.adminService=n,this.route=e,this.fb=r,this.location=a,this.poleron=this.fb.group({id:[null],color:[null],talla:[null],disenio:[null],precio:[0],oferta:[0],img:[null],cantidad:[0]})}ngOnInit(){const{id:n}=this.route.snapshot.queryParams;n&&(this.id=n,this.adminService.getPolerones(n).subscribe(e=>{var r;const a=e.data;null===(r=this.poleron.get("cantidad"))||void 0===r||r.setValue(a.inventario.cantidad),Object.entries(e.data).forEach(([g,h])=>{var u,p;null===(p=null===(u=this.poleron)||void 0===u?void 0:u.get(g))||void 0===p||p.setValue(h)})}))}guardar(){var n,e,r,a,g,h,u,p;const c=new FormData;if(this.id&&c.append("id",null===(n=this.poleron.get("id"))||void 0===n?void 0:n.value),c.append("img",null===(e=this.poleron.get("img"))||void 0===e?void 0:e.value),c.append("disenio",null===(r=this.poleron.get("disenio"))||void 0===r?void 0:r.value),c.append("color",null===(a=this.poleron.get("color"))||void 0===a?void 0:a.value),c.append("talla",null===(g=this.poleron.get("talla"))||void 0===g?void 0:g.value),c.append("precio",null===(h=this.poleron.get("precio"))||void 0===h?void 0:h.value),c.append("oferta",null===(u=this.poleron.get("oferta"))||void 0===u?void 0:u.value),this.poleron.valid)if(this.id){const y=null===(p=this.poleron.get("cantidad"))||void 0===p?void 0:p.value;this.adminService.updateStock(this.id,y).subscribe(),this.adminService.updatePoleron(c).subscribe()}else this.adminService.newPoleron(c).subscribe()}fileOnChange(n){n.target.files.length>0&&(this.poleron.patchValue({img:n.target.files[0]}),console.log(this.poleron.value))}goBack(){this.location.back()}reset(){this.poleron.reset(),console.log(this.poleron.value)}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(Z),t.Y36(s.gz),t.Y36(i.qu),t.Y36(v.Ye))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-poleron-edit"]],decls:62,vars:1,consts:[[1,"container"],[1,"col-lg-12","text-lg-center"],[1,"col-lg-8","push-lg-4","personal-info"],[3,"formGroup"],[1,"form-group","row"],[1,"col-lg-3","col-form-label","form-control-label"],[1,"col-lg-9"],["type","text","formControlName","disenio",1,"form-control"],["formControlName","color",1,"form-select"],["value","rojo"],["value","azul"],["value","rosado"],["value","negro"],["value","blanco"],["type","file",1,"form-control",3,"change"],["type","text","formControlName","talla",1,"form-control"],[1,"col"],[1,"col-lg-6"],[1,"col-form-label","form-control-label"],[1,""],["type","text","formControlName","precio",1,"form-control"],["type","text","formControlName","oferta",1,"form-control"],["type","number","formControlName","cantidad",1,"form-control"],["type","button","value","Cancelar",1,"btn","btn-secondary",3,"click"],["type","button","value","Guardar cambios",1,"btn","btn-primary",3,"click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2"),t._uU(3,"Editar Poleron"),t.qZA(),t._UZ(4,"br")(5,"br"),t.qZA(),t.TgZ(6,"div",2)(7,"form",3)(8,"div",4)(9,"label",5),t._uU(10,"Dise\xf1o"),t.qZA(),t.TgZ(11,"div",6),t._UZ(12,"input",7),t.qZA()(),t.TgZ(13,"div",4)(14,"label",5),t._uU(15,"Color"),t.qZA(),t.TgZ(16,"div",6)(17,"select",8)(18,"option",9),t._uU(19,"Rojo"),t.qZA(),t.TgZ(20,"option",10),t._uU(21,"Azul"),t.qZA(),t.TgZ(22,"option",11),t._uU(23,"rosado"),t.qZA(),t.TgZ(24,"option",12),t._uU(25,"Negro"),t.qZA(),t.TgZ(26,"option",13),t._uU(27,"Blanco"),t.qZA()()()(),t.TgZ(28,"div",4)(29,"label",5),t._uU(30,"Imagen"),t.qZA(),t.TgZ(31,"div",6)(32,"input",14),t.NdJ("change",function(a){return e.fileOnChange(a)}),t.qZA()()(),t.TgZ(33,"div",4)(34,"label",5),t._uU(35,"Talla"),t.qZA(),t.TgZ(36,"div",6),t._UZ(37,"input",15),t.qZA(),t._UZ(38,"div",16),t.qZA(),t.TgZ(39,"div",4)(40,"div",17)(41,"label",18),t._uU(42,"Precio"),t.qZA(),t.TgZ(43,"div",19),t._UZ(44,"input",20),t.qZA()(),t.TgZ(45,"div",17)(46,"label",18),t._uU(47,"Oferta"),t.qZA(),t.TgZ(48,"div",19),t._UZ(49,"input",21),t.qZA()()(),t.TgZ(50,"div",4)(51,"label",5),t._uU(52,"Stock"),t.qZA(),t.TgZ(53,"div",6),t._UZ(54,"input",22),t.qZA(),t._UZ(55,"div",16),t.qZA(),t.TgZ(56,"div",4)(57,"div",17)(58,"input",23),t.NdJ("click",function(){return e.goBack()}),t.qZA()(),t.TgZ(59,"div",17)(60,"input",24),t.NdJ("click",function(){return e.guardar()}),t.qZA()()()()()(),t._UZ(61,"hr")),2&n&&(t.xp6(7),t.Q6J("formGroup",e.poleron))},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,i.EJ,i.YN,i.Kr,i.wV],styles:[""]}),o})();var A=d(7579);const P=function(){return["poleron"]},O=function(o){return{id:o}};function M(o,l){if(1&o){const n=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td")(14,"button",11)(15,"i",12),t._uU(16,"\ue254"),t.qZA()(),t.TgZ(17,"button",13),t.NdJ("click",function(){const a=t.CHM(n).$implicit;return t.oxw().borrarElemento(a.id)}),t.TgZ(18,"i",12),t._uU(19,"\ue872"),t.qZA()()()()}if(2&o){const n=l.$implicit;t.xp6(2),t.Oqu(n.id),t.xp6(2),t.Oqu(n.color),t.xp6(2),t.Oqu(n.disenio),t.xp6(2),t.Oqu(n.talla),t.xp6(2),t.Oqu(n.precio),t.xp6(2),t.Oqu(null==n||null==n.inventario?null:n.inventario.cantidad),t.xp6(2),t.Q6J("routerLink",t.DdM(8,P))("queryParams",t.VKq(9,O,n.id))}}const T=[{path:"",canActivate:[_.u],canActivateChild:[_.u],children:[{path:"",component:(()=>{class o{constructor(n){this.adminService=n,this.polerones=[],this.updateRequired=new A.x}ngOnInit(){this.getPolerones(),this.updateRequired.subscribe(()=>{this.getPolerones()})}getPolerones(){this.adminService.getPolerones().subscribe(n=>{this.polerones=n.data})}borrarElemento(n){this.adminService.deletePoleron(n).subscribe(()=>this.updateRequired.next(!0))}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(Z))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-poleron"]],decls:29,vars:3,consts:[[1,"container-lg"],[1,"table-responsive"],[1,"table-wrapper"],[1,"table-title"],[1,"row"],[1,"col-sm-8"],[1,"col-sm-4"],[1,"btn","btn-info","add-new",3,"routerLink"],[1,"fa","fa-plus"],[1,"table","table-bordered"],[4,"ngFor","ngForOf"],["title","Edit","data-toggle","tooltip",1,"edit",3,"routerLink","queryParams"],[1,"material-icons"],["title","Delete","data-toggle","tooltip",1,"delete",3,"click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2"),t._uU(7,"Polerones "),t.qZA()(),t.TgZ(8,"div",6)(9,"a",7),t._UZ(10,"i",8),t._uU(11,"A\xf1adir"),t.qZA()()()(),t.TgZ(12,"table",9)(13,"thead")(14,"tr")(15,"th"),t._uU(16,"#"),t.qZA(),t.TgZ(17,"th"),t._uU(18,"Color"),t.qZA(),t.TgZ(19,"th"),t._uU(20,"Dise\xf1o"),t.qZA(),t.TgZ(21,"th"),t._uU(22,"Talla"),t.qZA(),t.TgZ(23,"th"),t._uU(24,"Precio"),t.qZA(),t.TgZ(25,"th"),t._uU(26,"Stock"),t.qZA()()(),t.TgZ(27,"tbody"),t.YNc(28,M,20,11,"tr",10),t.qZA()()()()()),2&n&&(t.xp6(9),t.Q6J("routerLink",t.DdM(2,P)),t.xp6(19),t.Q6J("ngForOf",e.polerones))},directives:[s.yS,v.sg,s.rH],styles:["body[_ngcontent-%COMP%]{color:#404e67;background:#F5F7FA;font-family:Open Sans,sans-serif}.table-wrapper[_ngcontent-%COMP%]{width:700px;margin:30px auto;background:#fff;padding:20px;box-shadow:0 1px 1px #0000000d}.table-title[_ngcontent-%COMP%]{padding-bottom:10px;margin:0 0 10px}.table-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:6px 0 0;font-size:22px}.table-title[_ngcontent-%COMP%]   .add-new[_ngcontent-%COMP%]{float:right;height:30px;font-weight:700;font-size:12px;text-shadow:none;min-width:100px;border-radius:50px;line-height:13px}.table-title[_ngcontent-%COMP%]   .add-new[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:4px}table.table[_ngcontent-%COMP%]{table-layout:fixed}table.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-color:#e9e9e9}table.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:13px;margin:0 5px;cursor:pointer}table.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{width:100px}table.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;display:inline-block;margin:0 5px;min-width:24px;border:none;background-color:transparent}table.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button.add[_ngcontent-%COMP%]{color:#27c46b}table.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%]{color:#ffc107}table.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button.delete[_ngcontent-%COMP%]{color:#e34724}table.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:19px}table.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button.add[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;margin-right:-1px;position:relative;top:3px}table.table[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{height:32px;line-height:32px;box-shadow:none;border-radius:2px}table.table[_ngcontent-%COMP%]   .form-control.error[_ngcontent-%COMP%]{border-color:#f50000}table.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]{display:none}"]}),o})()},{path:"poleron",component:C}]}];let q=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[s.Bz.forChild(T)],s.Bz]}),o})(),U=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[v.ez,q,b.JF,s.Bz,i.UX,i.u5]]}),o})()}}]);