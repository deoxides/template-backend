(self.webpackChunkTickets=self.webpackChunkTickets||[]).push([[796],{7796:(G,q,c)=>{"use strict";c.r(q),c.d(q,{HomeModule:()=>dn});var s=c(3075),p=c(9808),m=c(1083),h=c(7696),t=c(5e3),d=c(7093),f=c(9224);let U=(()=>{class n{constructor(e){this.eleRef=e,this.eleRef.nativeElement.style.position="absolute",this.eleRef.nativeElement.style.height="100px",this.eleRef.nativeElement.style.width="100px",this.eleRef.nativeElement.style.borderRadius="50%",this.eleRef.nativeElement.style.backgroundColor="#001b46",this.eleRef.nativeElement.style.color="white",this.eleRef.nativeElement.style.top="-50px",this.eleRef.nativeElement.style.left="50%",this.eleRef.nativeElement.style.textAlign="center",this.eleRef.nativeElement.style.display="flex",this.eleRef.nativeElement.style.alignItems="center",this.eleRef.nativeElement.style.justifyContent="center",this.eleRef.nativeElement.style.transform="translateX(-50%)"}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq))},n.\u0275dir=t.lG2({type:n,selectors:[["","mat-card-over",""]]}),n})();var O=c(7423),Y=c(4834);function E(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"mat-card-header")(2,"mat-card-title"),t._uU(3),t.ALo(4,"titlecase"),t.qZA(),t.TgZ(5,"mat-card-subtitle"),t._uU(6),t.qZA()(),t.TgZ(7,"mat-card-actions")(8,"button",7),t._uU(9,"Acceder"),t.qZA()(),t._UZ(10,"mat-divider"),t.BQk()),2&n){const e=i.$implicit;t.xp6(3),t.hij(" ",t.lcZ(4,2,e.section)," "),t.xp6(3),t.hij(" ",e.desc," ")}}function dt(n,i){if(1&n&&(t.TgZ(0,"mat-card",2)(1,"div",3),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"mat-card-content",4)(5,"mat-card-header")(6,"mat-card-title"),t._uU(7),t.ALo(8,"titlecase"),t.qZA(),t.TgZ(9,"mat-card-subtitle"),t._uU(10),t.qZA()(),t.TgZ(11,"mat-card-actions")(12,"button",5),t._uU(13,"Acceder"),t.qZA()(),t._UZ(14,"mat-divider"),t.YNc(15,E,11,4,"ng-container",6),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.Oqu(t.lcZ(3,5,e.header)),t.xp6(5),t.hij(" ",t.lcZ(8,7,e.section)," "),t.xp6(3),t.hij(" ",e.desc," "),t.xp6(2),t.Q6J("routerLink",e.link),t.xp6(3),t.Q6J("ngForOf",e.suboption)}}let pt=(()=>{class n{constructor(){this.options=[]}ngOnInit(){this.options=[{header:"finanzas",section:"Reliquidaciones",desc:"Solicitudes de reliquidaciones",link:"/tickets/create"}]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-home"]],decls:2,vars:1,consts:[["fxLayout","row wrap","fxLayoutGap","10px"],["fxFlex","25",4,"ngFor","ngForOf"],["fxFlex","25"],["mat-card-over",""],["fxLayout","column","fxLayoutAlign","none center"],["mat-flat-button","","color","primary",3,"routerLink"],[4,"ngFor","ngForOf"],["mat-flat-button","","color","primary"]],template:function(e,o){1&e&&(t.TgZ(0,"section",0),t.YNc(1,dt,16,9,"mat-card",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",o.options))},directives:[d.xw,d.SQ,p.sg,f.a8,d.yH,U,f.dn,d.Wh,f.dk,f.n5,f.$j,f.hq,O.lW,m.rH,Y.d],pipes:[p.rS],styles:["section[_ngcontent-%COMP%]{background-color:gray;padding-top:100px;height:100%}section[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}section[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{margin-top:72px}section[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{text-align:center}.mat-card[_ngcontent-%COMP%]   .mat-divider-horizontal[_ngcontent-%COMP%]{position:relative}"]}),n})();var X=c(4594),D=c(4623);let ft=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-index"]],decls:9,vars:0,consts:[["color","primary"],["src","/assets/logo2.png","alt",""],[1,"spacer"],["mat-list-item","","routerLink","/"]],template:function(e,o){1&e&&(t.TgZ(0,"main")(1,"mat-toolbar",0),t._UZ(2,"img",1),t.TgZ(3,"span"),t._uU(4,"Sistema de tickets"),t.qZA(),t._UZ(5,"span",2),t.TgZ(6,"a",3),t._uU(7,"Inicio"),t.qZA()(),t._UZ(8,"router-outlet"),t.qZA())},directives:[X.Ye,D.Tg,m.yS,m.lC],styles:["img[_ngcontent-%COMP%]{height:100%}a[_ngcontent-%COMP%]{text-decoration:none;color:#fff}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),n})();var W=c(4004),_t=c(4986),gt=c(7272),K=c(5698),ht=c(4482),vt=c(5403),xt=c(5032),Zt=c(9718),Tt=c(5577);function tt(n,i){return i?e=>(0,gt.z)(i.pipe((0,K.q)(1),function Ct(){return(0,ht.e)((n,i)=>{n.subscribe((0,vt.x)(i,xt.Z))})}()),e.pipe(tt(n))):(0,Tt.z)((e,o)=>n(e,o).pipe((0,K.q)(1),(0,Zt.h)(e)))}var bt=c(5963),et=c(8505),T=c(2340),At=c(4691),nt=c(704);let k=(()=>{class n{constructor(e,o){this.http=e,this.swal=o}actualizarValidacion(e,o,a,r){return this.http.post(T.N.url+"/api/int/v1/contratos/solicitud",{id:e,validacion:o,estado:a,observacion:r}).pipe((0,et.b)(()=>{this.swal.createAlert({icon:"success",title:"Solicitud actualizada",timer:2e3,showCloseButton:!1})}))}eliminarSolicitud(e){return this.http.delete(T.N.url+"/api/int/v1/contratos/solicitud/"+e).pipe((0,et.b)(()=>{this.swal.createAlert({icon:"success",title:"Solicitud eliminada",timer:2e3,showCloseButton:!1})}))}checkRut(e){return this.http.get(T.N.url+"/api/int/v1/contratos/contratos/"+e)}checkContratos(e,o,a){return this.http.get(T.N.url+"/api/int/v1/contratos/contratos",{params:{zona:e,empresa:o,instalacion:a}})}checkConcepto(){return this.http.get(T.N.url+"/api/int/v1/contratos/concepto")}enviarReliquidacion(e){return this.http.post(T.N.url+"/api/int/v1/contratos",Object.assign({},e))}obtenerListado(e,o="propio"){let a;return e&&(a={},e.forEach(({propiedad:r,valor:l})=>{a[r]=`${l}`})),this.http.get(T.N.url+"/api/int/v1/contratos/listado/"+o,{params:Object.assign({},a)})}obtenerDetalles(e){return this.http.get(T.N.url+"/api/int/v1/contratos/detalles",{params:{id:e}})}obtenerZona(){return this.http.get(T.N.url+"/api/int/v1/servicios/zonas")}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(At.O),t.LFG(nt.c))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var P=c(6518),w=c(8424),b=c(7322),L=c(4107),I=c(508),j=c(7531);let ot=(()=>{class n{transform(e){return e.replace(/([A-Z])/g," $1")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"title",type:n,pure:!0}),n})(),qt=(()=>{class n{transform(e){return"v"===e?"Validado":"r"===e?"Rechazado":"Pendiente"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"validaciones",type:n,pure:!0}),n})();function Ot(n,i){if(1&n&&(t.TgZ(0,"div",21)(1,"span",22)(2,"strong",11),t._uU(3),t.ALo(4,"titlecase"),t.ALo(5,"title"),t.qZA(),t.TgZ(6,"p",12),t._uU(7),t.qZA()(),t._UZ(8,"hr"),t.qZA()),2&n){const e=i.$implicit;t.xp6(3),t.hij("",t.lcZ(4,2,t.lcZ(5,4,e.key)),":"),t.xp6(4),t.Oqu(e.value)}}function kt(n,i){if(1&n&&(t.TgZ(0,"div",21)(1,"span",22)(2,"strong",11),t._uU(3),t.ALo(4,"titlecase"),t.ALo(5,"title"),t.qZA(),t.TgZ(6,"p",12),t._uU(7),t.qZA()(),t._UZ(8,"hr"),t.qZA()),2&n){const e=i.$implicit;t.xp6(3),t.hij("",t.lcZ(4,2,t.lcZ(5,4,e.key)),":"),t.xp6(4),t.Oqu(e.value)}}function Mt(n,i){1&n&&(t.ynx(0),t.TgZ(1,"mat-form-field")(2,"mat-label"),t._uU(3,"Estado"),t.qZA(),t.TgZ(4,"mat-select",23)(5,"mat-option",24),t._uU(6,"Pendiente"),t.qZA(),t.TgZ(7,"mat-option",25),t._uU(8,"Rechazado"),t.qZA(),t.TgZ(9,"mat-option",26),t._uU(10,"Validado"),t.qZA()()(),t.BQk())}function Ft(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"validaciones"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",t.lcZ(2,1,null==e.solicitud.validaciones?null:e.solicitud.validaciones[0].estado)," ")}}function Ut(n,i){1&n&&(t.ynx(0),t.TgZ(1,"mat-form-field",27),t._UZ(2,"textarea",28),t.qZA(),t.BQk())}function Pt(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",null==e.solicitud.validaciones?null:e.solicitud.validaciones[0].observaciones," ")}}function wt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function(){return t.CHM(e),t.oxw().actualizar(1)}),t._uU(1,"Actualizar"),t.qZA()}}function It(n,i){1&n&&(t.ynx(0),t.TgZ(1,"mat-form-field")(2,"mat-label"),t._uU(3,"Estado"),t.qZA(),t.TgZ(4,"mat-select",23)(5,"mat-option",24),t._uU(6,"Pendiente"),t.qZA(),t.TgZ(7,"mat-option",25),t._uU(8,"Rechazado"),t.qZA(),t.TgZ(9,"mat-option",26),t._uU(10,"Validado"),t.qZA()()(),t.BQk())}function Nt(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"validaciones"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,1,null==e.solicitud.validaciones?null:e.solicitud.validaciones[1].estado)," ")}}function St(n,i){1&n&&(t.ynx(0),t.TgZ(1,"mat-form-field"),t._UZ(2,"textarea",28),t.qZA(),t.BQk())}function Rt(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",null==e.solicitud.validaciones?null:e.solicitud.validaciones[1].observaciones," ")}}function Jt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",34),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).actualizar(2)}),t._uU(1,"Actualizar"),t.qZA()}}const it=function(){return[4]};function Qt(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"mat-card-subtitle"),t._uU(2,"Validaci\xf3n 2"),t.qZA(),t.TgZ(3,"div",30)(4,"span",10)(5,"strong",11),t._uU(6,"Validaci\xf3n"),t.qZA(),t.TgZ(7,"span",12),t.YNc(8,It,11,0,"ng-container",13),t.YNc(9,Nt,3,3,"ng-template",null,31,t.W1O),t.qZA(),t._UZ(11,"hr"),t.qZA(),t.TgZ(12,"span",15)(13,"strong",11),t._uU(14,"Observaciones:"),t.qZA(),t.TgZ(15,"span",12),t.YNc(16,St,3,0,"ng-container",13),t.YNc(17,Rt,2,1,"ng-template",null,32,t.W1O),t.qZA(),t._UZ(19,"hr"),t.qZA(),t.YNc(20,Jt,2,0,"button",33),t.qZA(),t.BQk()),2&n){const e=t.MAs(10),o=t.MAs(18),a=t.oxw();let r;t.xp6(8),t.Q6J("ngIf",a.canModify(t.DdM(5,it)))("ngIfElse",e),t.xp6(8),t.Q6J("ngIf",a.canModify(t.DdM(6,it)))("ngIfElse",o),t.xp6(4),t.Q6J("ngIf",!(null!=(r=a.validationForm.get("validacion1"))&&r.disabled))}}const at=function(){return[3]};let Yt=(()=>{class n{constructor(e,o,a,r,l){this.location=e,this.ticketService=o,this.activeRoute=a,this.authService=r,this.fb=l,this.solicitud={},this.loading=!1,this.validationForm=this.fb.group({validacion1:this.fb.group({estado:[null,[s.kI.required]],observaciones:[""]})})}ngOnInit(){const{id:e}=this.activeRoute.snapshot.params;this.loading=!0,this.ticketService.obtenerDetalles(e).pipe((0,W.U)(({data:o})=>{const{nombreContrato:a,nombreInstalacion:r,nombreEmpresa:l,zona:u,validaciones:g,id:x,codigoPayroll:Z,nombreConcepto:C,comentarioConcepto:y,dias:A,horas:R,fechaInicio:J,fechaTermino:Q,rutBeneficiario:pn,nombreBeneficiario:fn,monto:_n,explicacion:gn}=o;return{encabezado:{zona:u,nombreEmpresa:l,nombreInstalacion:r,nombreContrato:a},informacion:{id:x,codigoPayroll:Z,nombreConcepto:C,comentarioConcepto:y,dias:A,horas:R,fechaInicio:J,fechaTermino:Q,rutBeneficiario:pn,nombreBeneficiario:fn,monto:_n,explicacion:gn},validaciones:g}}),function yt(n,i=_t.z){const e=(0,bt.H)(n,i);return tt(()=>e)}(500)).subscribe(o=>{var a,r,l,u;this.solicitud=o,null===(a=this.validationForm.get("validacion1.estado"))||void 0===a||a.setValue(o.validaciones[0].estado),null===(r=this.validationForm.get("validacion1.observaciones"))||void 0===r||r.setValue(o.validaciones[0].observaciones||""),("v"===o.validaciones[0].estado||"r"===o.validaciones[0].estado)&&(null===(l=this.validationForm.get("validacion1"))||void 0===l||l.disable()),"v"==o.validaciones[0].estado&&(this.validationForm.addControl("validacion2",this.fb.group({estado:[null,[s.kI.required]],observaciones:[""]})),this.canModify([4])||null===(u=this.validationForm.get("validacion2"))||void 0===u||u.disable()),this.loading=!1})}ordenarSolicitud(e,o){return 0}canModify(e){return e.some(o=>this.authService.Roles.includes(o))}actualizar(e){var o,a,r,l;const{id:u}=this.activeRoute.snapshot.params,g=null===(a=null===(o=this.validationForm.get("validacion"+e))||void 0===o?void 0:o.get("estado"))||void 0===a?void 0:a.value,x=null===(l=null===(r=this.validationForm.get("validacion"+e))||void 0===r?void 0:r.get("observaciones"))||void 0===l?void 0:l.value;this.ticketService.actualizarValidacion(u,e,g,x).subscribe(()=>{window.location.reload()})}eliminar(){const{id:e}=this.activeRoute.snapshot.params;this.ticketService.eliminarSolicitud(e).subscribe(()=>this.location.back())}volver(){this.location.back()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.Ye),t.Y36(k),t.Y36(m.gz),t.Y36(P.e),t.Y36(s.qu))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-detalles"]],decls:47,vars:21,consts:[[3,"loading"],["fxLayout","column","fxLayoutGap","19px"],[1,"actions"],["mat-flat-button","","color","warn",3,"click"],["mat-flat-button","","color","primary",3,"click"],[1,"header"],["fxLayout.lg","row wrap","fxLayout","column","fxLayoutGap","19px"],["fxFlex","48",4,"ngFor","ngForOf"],[3,"formGroup"],["formGroupName","validacion1","fxLayout","row","fxLayoutAlign","space-around center","fxLayoutGap","50px"],["fxFlex","30%","fxLayout.lg","row","fxLayout","column","fxLayoutGap","19px","fxLayoutAlign","center center"],["fxFlex","30%"],["fxFlex","70%"],[4,"ngIf","ngIfElse"],["estado1",""],["fxFlex","50%","fxLayout.lg","row","fxLayout","column","fxLayoutGap","19px","fxLayoutAlign","center center"],["fxFlex","20%"],["fxFlex","80%"],["observacion1",""],["fxFlex","10%","mat-flat-button","","color","primary",3,"click",4,"ngIf"],[4,"ngIf"],["fxFlex","48"],["fxLayout.lg","row","fxLayout","column","fxLayoutGap","19px"],["formControlName","estado"],["value","p"],["value","r"],["value","v"],[1,"xl"],["matInput","","formControlName","observaciones"],["fxFlex","10%","mat-flat-button","","color","primary",3,"click"],["formGroupName","validacion2","fxLayout","row","fxLayoutAlign","space-around center","fxLayoutGap","50px"],["estado2",""],["observacion2",""],["fxFlex","20%","mat-flat-button","","color","primary",3,"click",4,"ngIf"],["fxFlex","20%","mat-flat-button","","color","primary",3,"click"]],template:function(e,o){if(1&e&&(t._UZ(0,"app-loading",0),t.TgZ(1,"div",1)(2,"div",2)(3,"button",3),t.NdJ("click",function(){return o.eliminar()}),t._uU(4,"Eliminar solicitud"),t.qZA(),t.TgZ(5,"button",4),t.NdJ("click",function(){return o.volver()}),t._uU(6,"volver"),t.qZA()(),t.TgZ(7,"mat-card")(8,"mat-card-title",5),t._uU(9,"Encabezado solicitud"),t.qZA(),t.TgZ(10,"mat-card-content",6),t.YNc(11,Ot,9,6,"div",7),t.ALo(12,"keyvalue"),t.qZA()(),t.TgZ(13,"mat-card")(14,"mat-card-title",5),t._uU(15,"Informaci\xf3n perfil vacante"),t.qZA(),t.TgZ(16,"mat-card-content",6),t.YNc(17,kt,9,6,"div",7),t.ALo(18,"keyvalue"),t.qZA()(),t.TgZ(19,"mat-card")(20,"mat-card-title",5),t._uU(21,"Validaciones"),t.qZA(),t.TgZ(22,"mat-card-content")(23,"form",8)(24,"mat-card-subtitle"),t._uU(25,"Validaci\xf3n 1"),t.qZA(),t.TgZ(26,"div",9)(27,"span",10)(28,"strong",11),t._uU(29,"Validaci\xf3n"),t.qZA(),t.TgZ(30,"span",12),t.YNc(31,Mt,11,0,"ng-container",13),t.YNc(32,Ft,3,3,"ng-template",null,14,t.W1O),t.qZA(),t._UZ(34,"hr"),t.qZA(),t.TgZ(35,"span",15)(36,"strong",16),t._uU(37,"Observaciones:"),t.qZA(),t.TgZ(38,"span",17),t.YNc(39,Ut,3,0,"ng-container",13),t.YNc(40,Pt,2,1,"ng-template",null,18,t.W1O),t.qZA(),t._UZ(42,"hr"),t.qZA(),t.YNc(43,wt,2,0,"button",19),t.qZA(),t.YNc(44,Qt,21,7,"ng-container",20),t._uU(45),t.ALo(46,"json"),t.qZA()()()()),2&e){const a=t.MAs(33),r=t.MAs(41);let l;t.Q6J("loading",o.loading),t.xp6(11),t.Q6J("ngForOf",t.xi3(12,11,o.solicitud.encabezado,o.ordenarSolicitud)),t.xp6(6),t.Q6J("ngForOf",t.xi3(18,14,o.solicitud.informacion,o.ordenarSolicitud)),t.xp6(6),t.Q6J("formGroup",o.validationForm),t.xp6(8),t.Q6J("ngIf",o.canModify(t.DdM(19,at)))("ngIfElse",a),t.xp6(8),t.Q6J("ngIf",o.canModify(t.DdM(20,at)))("ngIfElse",r),t.xp6(4),t.Q6J("ngIf",!(null!=(l=o.validationForm.get("validacion1"))&&l.disabled)),t.xp6(1),t.Q6J("ngIf",o.validationForm.get("validacion2")),t.xp6(1),t.hij(" ",t.lcZ(46,17,o.validationForm.value)," ")}},directives:[w.N,d.xw,d.SQ,O.lW,f.a8,f.n5,f.dn,p.sg,d.yH,s._Y,s.JL,s.sg,f.$j,s.x0,d.Wh,p.O5,b.KE,b.hX,L.gD,s.JJ,s.u,I.ey,j.Nt,s.Fj],pipes:[p.Nd,p.rS,ot,qt,p.Ts],styles:[".actions[_ngcontent-%COMP%]{display:flex;width:100%;gap:19px;justify-content:flex-end}mat-card[_ngcontent-%COMP%]{padding:19px}.xl[_ngcontent-%COMP%]{width:100%}span[_ngcontent-%COMP%]{min-height:32px;display:grid;align-items:center}hr[_ngcontent-%COMP%]{margin-top:0}mat-form-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding-bottom:0}"]}),n})();var F=c(5113),B=c(2638),Et=c(1411);let Dt=(()=>{class n{transform(e){return e.split(/\s/).splice(0,2).map(a=>a.charAt(0)).join("")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"userProfile",type:n,pure:!0}),n})();function Lt(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"span",3),t._uU(2),t.ALo(3,"userProfile"),t.qZA(),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("nombre",e.user.nombreCompleto),t.xp6(1),t.Oqu(t.lcZ(3,2,e.user.nombreCompleto))}}let jt=(()=>{class n{constructor(e){this.authService=e}ngOnInit(){this.authService.getCurrentUser().subscribe(e=>{e&&(this.user=e)})}logout(){this.authService.logout()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(P.e))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-perfil"]],decls:12,vars:3,consts:[["fxLayout","column","fxLayoutAlign","space-around center"],[4,"ngIf"],["mat-button","",3,"click"],["appUserProfile","",3,"nombre"]],template:function(e,o){1&e&&(t.TgZ(0,"mat-card",0),t.YNc(1,Lt,4,4,"ng-container",1),t.TgZ(2,"mat-card-title-group")(3,"mat-card-title"),t._uU(4,"Usuario"),t.qZA(),t.TgZ(5,"mat-card-subtitle"),t._uU(6),t.qZA()(),t.TgZ(7,"mat-card-subtitle"),t._uU(8),t.qZA(),t.TgZ(9,"mat-card-actions")(10,"button",2),t.NdJ("click",function(){return o.logout()}),t._uU(11,"Log out"),t.qZA()()()),2&e&&(t.xp6(1),t.Q6J("ngIf",o.user),t.xp6(5),t.Oqu(null==o.user?null:o.user.name),t.xp6(2),t.hij(" Zona: ",null==o.user?null:o.user.zona," "))},directives:[f.a8,d.xw,d.Wh,p.O5,Et.M,f.C1,f.n5,f.$j,f.hq,O.lW],pipes:[Dt],styles:["*[_ngcontent-%COMP%]{color:#fff}a[_ngcontent-%COMP%]{cursor:pointer}img[_ngcontent-%COMP%]{height:60px;width:60px}mat-card[_ngcontent-%COMP%]{border:none;box-shadow:none;background-color:transparent}mat-card[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{margin-top:0;margin-bottom:8px}mat-card-title[_ngcontent-%COMP%]{text-align:center}mat-card-subtitle[_ngcontent-%COMP%]{margin:0}"]}),n})();var rt=c(7350);const Bt=function(){return{exact:!0}};function Ht(n,i){if(1&n&&(t.TgZ(0,"mat-nav-list",1)(1,"a",2),t._uU(2),t.qZA(),t._UZ(3,"hr"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("routerLinkActiveOptions",t.DdM(3,Bt))("routerLink",e.link),t.xp6(1),t.hij(" ",e.name," ")}}let zt=(()=>{class n{constructor(e){this.authService=e,this.links=[]}ngOnInit(){this.links=[{name:"Crear ticket",link:"/tickets/create",roles:[1]},{name:"Mis tickets",link:"/tickets"},{name:"Tickets pendientes",link:"/tickets/pending"},{name:"Tickets resueltos",link:"/tickets/resolved"}]}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(P.e))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-sidebar"]],decls:2,vars:1,consts:[["appHover","",4,"ngFor","ngForOf"],["appHover",""],["mat-list-item","","routerLinkActive","active",3,"routerLinkActiveOptions","routerLink"]],template:function(e,o){1&e&&(t._UZ(0,"app-perfil"),t.YNc(1,Ht,4,4,"mat-nav-list",0)),2&e&&(t.xp6(1),t.Q6J("ngForOf",o.links))},directives:[jt,p.sg,D.Hk,rt.z,D.Tg,m.yS,m.Od],styles:[".mat-list-item[_ngcontent-%COMP%], .mat-nav-list[_ngcontent-%COMP%]{color:#fff}hr[_ngcontent-%COMP%]{height:1px;background-color:#dedede;width:0;opacity:0;margin:0 10px;display:block;border-radius:10px;box-shadow:0 0 4px #666;transition:all .5s ease-in-out}.active[_ngcontent-%COMP%]{background-color:#fff!important;color:#001b46}.hover[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{opacity:1;width:86%}.hover.active[_ngcontent-%COMP%]{opacity:0;width:0%}"]}),n})();var N=c(5245);let Vt=(()=>{class n{constructor(e){this.breakpointObserver=e,this.mode="side",this.breakpointObserver.observe([F.u3.Small,F.u3.HandsetPortrait]).subscribe(o=>{this.mode=o.matches?"push":"side"})}ngOnDestroy(){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(F.Yg))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-index"]],decls:11,vars:2,consts:[["autosize",""],[3,"mode","opened"],["snav",""],["color","primary"],["mat-icon-button","",3,"click"]],template:function(e,o){if(1&e){const a=t.EpF();t.TgZ(0,"mat-drawer-container",0)(1,"mat-drawer",1,2),t._UZ(3,"app-sidebar"),t.qZA(),t.TgZ(4,"mat-drawer-content")(5,"mat-toolbar",3)(6,"button",4),t.NdJ("click",function(){return t.CHM(a),t.MAs(2).toggle()}),t.TgZ(7,"mat-icon"),t._uU(8,"menu"),t.qZA()()(),t.TgZ(9,"section"),t._UZ(10,"router-outlet"),t.qZA()()()}2&e&&(t.xp6(1),t.Q6J("mode",o.mode)("opened","side"==o.mode))},directives:[B.kh,B.jA,zt,B.LW,X.Ye,O.lW,N.Hw,m.lC],styles:["mat-drawer-container[_ngcontent-%COMP%]{height:calc(100% - 64px)}mat-drawer-container[_ngcontent-%COMP%]   mat-drawer[_ngcontent-%COMP%]{background-color:#001b46;min-width:200px}mat-drawer-container[_ngcontent-%COMP%]   mat-drawer-content[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]{position:static}mat-drawer-container[_ngcontent-%COMP%]   mat-drawer-content[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{position:relative}mat-drawer-container[_ngcontent-%COMP%]   mat-drawer-content[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{position:relative;width:100%}"]}),n})();var _=c(4999),v=c(1777),M=c(6688);function $t(n,i){if(1&n&&(t.TgZ(0,"mat-option",22),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.codigozona),t.xp6(1),t.Oqu(e.zona)}}function Gt(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"mat-select",19,20),t.NdJ("valueChange",function(){t.CHM(e);const a=t.MAs(2),r=t.oxw(),l=t.MAs(5);return r.addFilter(l.value,a.value)}),t.YNc(3,$t,2,2,"mat-option",21),t.qZA(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngForOf",e.zonas)}}function Xt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"input",23,20),t.NdJ("keyup.enter",function(){t.CHM(e);const a=t.MAs(1),r=t.oxw(),l=t.MAs(5);return r.addFilter(l.value,a.value)}),t.qZA()}}function Wt(n,i){1&n&&(t.TgZ(0,"mat-icon",26),t._uU(1,"cancel"),t.qZA())}function Kt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-chip",24),t.NdJ("removed",function(){const r=t.CHM(e).$implicit;return t.oxw().remove(r.propiedad)}),t._uU(1),t.ALo(2,"titlecase"),t.ALo(3,"title"),t.YNc(4,Wt,2,0,"mat-icon",25),t.qZA()}if(2&n){const e=i.$implicit;t.Q6J("selectable",!1)("removable",!0),t.xp6(1),t.AsE(" ",t.lcZ(2,5,t.lcZ(3,7,e.propiedad))," : ",e.valor," "),t.xp6(3),t.Q6J("ngIf",!0)}}let H=(()=>{class n{constructor(e){this.ticketService=e,this.filters=[],this.zonas=[],this.filtrar=new t.vpe}ngOnInit(){this.ticketService.obtenerZona().subscribe(e=>{e.ok&&(this.zonas=e.data.zonas)})}addFilter(e,o){!e||o.length<1||(-1==this.filters.map(({propiedad:r})=>r).indexOf(e)?this.filters.push({propiedad:e,valor:o}):this.filters.find(({propiedad:r})=>r==e).valor=o,this.filters.sort((r,l)=>r.propiedad>l.propiedad?1:-1),this.filtrar.emit(this.filters))}remove(e){const o=this.filters.map(({propiedad:a})=>a).sort().indexOf(e);this.filters.splice(o,1),this.filtrar.emit(this.filters)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(k))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-filtros"]],outputs:{filtrar:"filtrar"},decls:35,vars:4,consts:[["fxLayout","row","fxLayoutGap","10px"],["fxFlex","33"],["key",""],["label","Identificadores"],["value","id"],["value","idContrato"],["value","idInstalacion"],["value","idZona"],["label","Valores"],["value","contrato"],["value","empresa"],["value","instalacion"],["value","motivo"],["value","beneficiario"],["value","validacion"],[4,"ngIf","ngIfElse"],["input",""],[1,"filters"],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],[3,"valueChange"],["filter",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["matInput","","type","text",3,"keyup.enter"],[3,"selectable","removable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""]],template:function(e,o){if(1&e&&(t.TgZ(0,"span",0)(1,"mat-form-field",1)(2,"mat-label"),t._uU(3,"Filtrar:"),t.qZA(),t.TgZ(4,"mat-select",null,2)(6,"mat-optgroup",3)(7,"mat-option",4),t._uU(8,"ID"),t.qZA(),t.TgZ(9,"mat-option",5),t._uU(10,"ID CONTRATO"),t.qZA(),t.TgZ(11,"mat-option",6),t._uU(12,"ID INSTALACION"),t.qZA(),t.TgZ(13,"mat-option",7),t._uU(14," ZONA"),t.qZA()(),t.TgZ(15,"mat-optgroup",8)(16,"mat-option",9),t._uU(17,"CONTRATO"),t.qZA(),t.TgZ(18,"mat-option",10),t._uU(19,"EMPRESA"),t.qZA(),t.TgZ(20,"mat-option",11),t._uU(21,"INSTALACION"),t.qZA(),t.TgZ(22,"mat-option",12),t._uU(23,"MOTIVO"),t.qZA(),t.TgZ(24,"mat-option",13),t._uU(25,"BENEFICIARIO"),t.qZA(),t.TgZ(26,"mat-option",14),t._uU(27,"VALIDACION"),t.qZA()()()(),t.TgZ(28,"mat-form-field",1),t.YNc(29,Gt,4,1,"ng-container",15),t.YNc(30,Xt,2,0,"ng-template",null,16,t.W1O),t.qZA()(),t.TgZ(32,"div",17)(33,"mat-chip-list"),t.YNc(34,Kt,5,9,"mat-chip",18),t.qZA()()),2&e){const a=t.MAs(5),r=t.MAs(31);t.xp6(29),t.Q6J("ngIf","idZona"==a.value)("ngIfElse",r),t.xp6(3),t.Q6J("@detailExpand",o.filters.length>0?"expanded":"collapsed"),t.xp6(2),t.Q6J("ngForOf",o.filters)}},directives:[d.xw,d.SQ,b.KE,d.yH,b.hX,L.gD,I.Nv,I.ey,p.O5,p.sg,j.Nt,M.qn,M.HS,N.Hw,M.qH],pipes:[p.rS,ot],styles:[""],data:{animation:[(0,v.X$)("detailExpand",[(0,v.SB)("collapsed",(0,v.oB)({height:"0px",minHeight:"0"})),(0,v.SB)("expanded",(0,v.oB)({height:"*"})),(0,v.eR)("expanded <=> collapsed",(0,v.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),n})();var ct=c(6087),z=c(4847),lt=c(3322),te=c(7238);const st=function(){return{width:"20px"}};function ee(n,i){1&n&&(t.TgZ(0,"mat-header-cell",19),t._uU(1," ID "),t.qZA()),2&n&&t.Q6J("ngStyle",t.DdM(1,st))}function ne(n,i){if(1&n&&(t.TgZ(0,"mat-cell",20),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("ngStyle",t.DdM(2,st)),t.xp6(1),t.hij(" ",e.id," ")}}function oe(n,i){1&n&&(t.TgZ(0,"mat-header-cell",21),t._uU(1," CONTRATO "),t.qZA())}function ie(n,i){if(1&n&&(t.TgZ(0,"mat-cell",22)(1,"div",23)(2,"label"),t._uU(3),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.qZA()()()),2&n){const e=i.$implicit;t.xp6(3),t.Oqu(e.codigoContrato),t.xp6(2),t.Oqu(e.nombreContrato)}}function ae(n,i){1&n&&(t.TgZ(0,"mat-header-cell",21),t._uU(1," EMPRESA "),t.qZA())}function re(n,i){if(1&n&&(t.TgZ(0,"mat-cell")(1,"div",23)(2,"label"),t._uU(3),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.qZA()()()),2&n){const e=i.$implicit;t.xp6(3),t.Oqu(e.zona),t.xp6(2),t.Oqu(e.nombreEmpresa)}}function ce(n,i){1&n&&(t.TgZ(0,"mat-header-cell",21),t._uU(1," INSTALACION "),t.qZA())}function le(n,i){if(1&n&&(t.TgZ(0,"mat-cell")(1,"div",23)(2,"label"),t._uU(3),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.qZA()()()),2&n){const e=i.$implicit;t.xp6(3),t.Oqu(e.codigoInstalacion),t.xp6(2),t.Oqu(e.nombreInstalacion)}}function se(n,i){1&n&&(t.TgZ(0,"mat-header-cell",21),t._uU(1," CONCEPTO "),t.qZA())}const me=function(n){return[n]};function ue(n,i){if(1&n&&(t.TgZ(0,"mat-cell")(1,"a",24),t._uU(2),t.ALo(3,"titlecase"),t.qZA()()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(4,me,"/tickets/details/"+e.id)),t.xp6(1),t.hij(" ",t.lcZ(3,2,e.nombreConcepto),"")}}function de(n,i){1&n&&(t.TgZ(0,"mat-header-cell",21),t._uU(1," BENEFICIARIO "),t.qZA())}function pe(n,i){if(1&n&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.rutBeneficiario," ")}}function fe(n,i){1&n&&(t.TgZ(0,"mat-header-cell"),t._uU(1," VALIDACION "),t.qZA())}const _e=function(){return{color:"green"}};function ge(n,i){if(1&n&&(t.TgZ(0,"mat-icon",28),t._uU(1,"check_circle"),t.qZA()),2&n){const e=t.oxw().index;t.Q6J("ngStyle",t.DdM(2,_e))("matTooltip","Validacion "+(e+1))}}const he=function(){return{color:"blue"}};function ve(n,i){if(1&n&&(t.TgZ(0,"mat-icon",28),t._uU(1,"pending"),t.qZA()),2&n){const e=t.oxw().index;t.Q6J("ngStyle",t.DdM(2,he))("matTooltip","Validacion "+(e+1))}}const xe=function(){return{color:"red"}};function Ce(n,i){if(1&n&&(t.TgZ(0,"mat-icon",28),t._uU(1,"cancel"),t.qZA()),2&n){const e=t.oxw().index;t.Q6J("ngStyle",t.DdM(2,xe))("matTooltip","Validacion "+(e+1))}}function Ze(n,i){if(1&n&&(t.ynx(0),t.YNc(1,ge,2,3,"mat-icon",27),t.YNc(2,ve,2,3,"mat-icon",27),t.YNc(3,Ce,2,3,"mat-icon",27),t.BQk()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf","v"==e.estado),t.xp6(1),t.Q6J("ngIf","p"==e.estado),t.xp6(1),t.Q6J("ngIf","r"==e.estado)}}function Te(n,i){if(1&n&&(t.TgZ(0,"mat-cell",25),t.YNc(1,Ze,4,3,"ng-container",26),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngForOf",e.validaciones)}}function be(n,i){1&n&&t._UZ(0,"mat-header-row")}function ye(n,i){1&n&&t._UZ(0,"mat-row")}function Ae(n,i){1&n&&(t.TgZ(0,"tr",29)(1,"td",30),t._uU(2,"Ning\xfan registro encontrado"),t.qZA()())}const qe=function(){return[5,25,40]};let V=(()=>{class n{constructor(){this.displayedColumns=["id","codigoContrato","nombreEmpresa","nombreInstalacion","nombreConcepto","rutBeneficiario","validacion"],this.dataSource=new _.by,this.count=0}ngOnChanges(e){this.dataSource&&(this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator)}ngAfterViewInit(){this.dataSource&&(this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["ticket-tablas"]],viewQuery:function(e,o){if(1&e&&(t.Gf(z.YE,5),t.Gf(ct.NW,5)),2&e){let a;t.iGM(a=t.CRH())&&(o.sort=a.first),t.iGM(a=t.CRH())&&(o.paginator=a.first)}},inputs:{dataSource:"dataSource",count:"count"},features:[t.TTD],decls:26,vars:8,consts:[["matSort","",3,"dataSource"],["matColumnDef","id"],["mat-sort-header","",3,"ngStyle",4,"matHeaderCellDef"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","codigoContrato"],["mat-sort-header","",4,"matHeaderCellDef"],["appHover","",4,"matCellDef"],["matColumnDef","nombreEmpresa"],[4,"matCellDef"],["matColumnDef","nombreInstalacion"],["matColumnDef","nombreConcepto"],["matColumnDef","rutBeneficiario"],["matColumnDef","validacion"],[4,"matHeaderCellDef"],["class","centered",4,"matCellDef"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Items por pagina",3,"length","pageSize","pageSizeOptions"],["mat-sort-header","",3,"ngStyle"],[3,"ngStyle"],["mat-sort-header",""],["appHover",""],[1,"labeled-cell"],[3,"routerLink"],[1,"centered"],[4,"ngFor","ngForOf"],[3,"ngStyle","matTooltip",4,"ngIf"],[3,"ngStyle","matTooltip"],[1,"mat-row"],[1,"mat-cell"]],template:function(e,o){1&e&&(t.TgZ(0,"mat-table",0),t.ynx(1,1),t.YNc(2,ee,2,2,"mat-header-cell",2),t.YNc(3,ne,2,3,"mat-cell",3),t.BQk(),t.ynx(4,4),t.YNc(5,oe,2,0,"mat-header-cell",5),t.YNc(6,ie,6,2,"mat-cell",6),t.BQk(),t.ynx(7,7),t.YNc(8,ae,2,0,"mat-header-cell",5),t.YNc(9,re,6,2,"mat-cell",8),t.BQk(),t.ynx(10,9),t.YNc(11,ce,2,0,"mat-header-cell",5),t.YNc(12,le,6,2,"mat-cell",8),t.BQk(),t.ynx(13,10),t.YNc(14,se,2,0,"mat-header-cell",5),t.YNc(15,ue,4,6,"mat-cell",8),t.BQk(),t.ynx(16,11),t.YNc(17,de,2,0,"mat-header-cell",5),t.YNc(18,pe,2,1,"mat-cell",8),t.BQk(),t.ynx(19,12),t.YNc(20,fe,2,0,"mat-header-cell",13),t.YNc(21,Te,2,1,"mat-cell",14),t.BQk(),t.YNc(22,be,1,0,"mat-header-row",15),t.YNc(23,ye,1,0,"mat-row",16),t.YNc(24,Ae,3,0,"tr",17),t.qZA(),t._UZ(25,"mat-paginator",18)),2&e&&(t.Q6J("dataSource",o.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(2),t.Q6J("length",o.count)("pageSize",25)("pageSizeOptions",t.DdM(7,qe)))},directives:[_.BZ,z.YE,_.w1,_.fO,_.ge,z.nU,p.PC,lt.Zl,_.Dz,_.ev,rt.z,m.yS,p.sg,p.O5,N.Hw,te.gM,_.as,_.XQ,_.nj,_.Gk,_.Ee,ct.NW],pipes:[p.rS],styles:["mat-header-cell[_ngcontent-%COMP%]{text-align:center;justify-content:center}mat-row[_ngcontent-%COMP%]{gap:10px}mat-row[_ngcontent-%COMP%]   mat-cell[_ngcontent-%COMP%]{color:#708090;white-space:nowrap;overflow:hidden;position:relative}mat-row[_ngcontent-%COMP%]   mat-cell[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}mat-row[_ngcontent-%COMP%]   mat-cell.hover[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:relative;animation:leftright 3s infinite alternate ease-in-out}mat-row[_ngcontent-%COMP%]   mat-cell.centered[_ngcontent-%COMP%]{justify-content:center}@keyframes leftright{0%,20%{transform:translate(0);left:0%}80%,to{transform:translate(-100%);left:100%}}mat-card[_ngcontent-%COMP%]{width:auto;margin-bottom:8px}.filters[_ngcontent-%COMP%]{overflow:hidden;display:flex}.labeled-cell[_ngcontent-%COMP%]{display:grid;justify-items:start}.labeled-cell[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:gray;font-size:10px}.mat-column-id[_ngcontent-%COMP%]{flex:0 0 10%}"]}),n})();function Oe(n,i){if(1&n&&(t.ynx(0),t._UZ(1,"ticket-tablas",3),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("dataSource",e.dataSource)("count",e.count)}}let ke=(()=>{class n{constructor(e){this.ticketService=e,this.count=0,this.loading=!1,this.suscriptions=[]}ngOnInit(){const e=this.ticketService.obtenerListado().subscribe(o=>{o.ok&&(this.count=o.count,this.dataSource=new _.by(o.data)),this.loading=!1});this.suscriptions.push(e)}ngOnDestroy(){this.suscriptions.forEach(e=>e.unsubscribe())}applyFilters(e){this.loading=!0,this.debounce&&clearTimeout(this.debounce),this.debounce=setTimeout(()=>{this.ticketService.obtenerListado(e).subscribe(o=>{o.ok&&(this.count=o.count,this.dataSource=new _.by(o.data)),this.loading=!1})},1e3)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(k))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-mis-tickets"]],decls:5,vars:2,consts:[[3,"loading"],[3,"filtrar"],[4,"ngIf"],[3,"dataSource","count"]],template:function(e,o){1&e&&(t._UZ(0,"app-loading",0),t.TgZ(1,"mat-card")(2,"app-filtros",1),t.NdJ("filtrar",function(r){return o.applyFilters(r)}),t.qZA()(),t.TgZ(3,"div"),t.YNc(4,Oe,2,2,"ng-container",2),t.qZA()),2&e&&(t.Q6J("loading",o.loading),t.xp6(4),t.Q6J("ngIf",o.dataSource))},directives:[w.N,f.a8,H,p.O5,V],styles:["mat-header-cell[_ngcontent-%COMP%]{text-align:center;justify-content:center}mat-row[_ngcontent-%COMP%]{gap:10px}mat-row[_ngcontent-%COMP%]   mat-cell[_ngcontent-%COMP%]{white-space:nowrap;gap:10px;text-overflow:ellipsis;overflow:hidden}mat-row[_ngcontent-%COMP%]   mat-cell.centered[_ngcontent-%COMP%]{justify-content:center}mat-card[_ngcontent-%COMP%]{width:auto;margin-bottom:8px}.filters[_ngcontent-%COMP%]{overflow:hidden;display:flex}.labeled-cell[_ngcontent-%COMP%]{display:grid;justify-items:start}.labeled-cell[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:gray;font-size:10px}.mat-column-id[_ngcontent-%COMP%]{flex:0 0 10%}"]}),n})();var Me=c(655),Fe=c(262),Ue=c(9646),S=c(3224);let Pe=(()=>{class n{constructor(){}validar(e){return(0,S.validate)(e)}limpiar(e){return(0,S.clean)(e)}formatear(e){return(0,S.format)(e)}digitoVerificador(e){return(0,S.getCheckDigit)(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),we=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-unauthorized"]],decls:3,vars:0,template:function(e,o){1&e&&(t.TgZ(0,"section")(1,"h1"),t._uU(2,"Acceso denegado"),t.qZA()())},styles:[""]}),n})(),mt=(()=>{class n{constructor(e,o,a){this.viewContainerRef=e,this.templateRef=o,this.authService=a,this.subscription=[],this.errorPage=!1}ngOnInit(){this.subscription.push(this.authService.getCurrentUser().subscribe(e=>{var o;e.perms||this.viewContainerRef.clear(),(null===(o=e.perms)||void 0===o?void 0:o.findIndex(r=>-1!==this.ifRoles.indexOf(r)))?(this.viewContainerRef.clear(),this.errorPage&&this.viewContainerRef.createComponent(we)):this.viewContainerRef.createEmbeddedView(this.templateRef)}))}ngOnDestroy(){this.subscription.forEach(e=>e.unsubscribe())}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.s_b),t.Y36(t.Rgc),t.Y36(P.e))},n.\u0275dir=t.lG2({type:n,selectors:[["","ifRoles",""]],inputs:{ifRoles:"ifRoles",errorPage:"errorPage",elem:"elem"}}),n})();var $=c(6856);const Ie=["picker"];function Ne(n,i){1&n&&(t.TgZ(0,"mat-hint",32),t._uU(1," Rut valido "),t.qZA())}function Se(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Campo requerido "),t.qZA())}function Re(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Formato invalido "),t.qZA())}function Je(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Sin contratos "),t.qZA())}function Qe(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Campo requerido "),t.qZA())}function Ye(n,i){if(1&n&&(t.TgZ(0,"mat-option",33),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.key),t.xp6(1),t.hij("",e.value," ")}}function Ee(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Campo requerido "),t.qZA())}function De(n,i){if(1&n&&(t.TgZ(0,"mat-option",33),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.key),t.xp6(1),t.hij(" ",e.value,"")}}function Le(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Campo requerido "),t.qZA())}function je(n,i){1&n&&(t.TgZ(0,"mat-hint",32),t._uU(1," Contratos encontrados "),t.qZA())}function Be(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Campo requerido "),t.qZA())}function He(n,i){if(1&n&&(t.TgZ(0,"mat-option",34),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.idcontrato),t.xp6(1),t.AsE("(",e.idcontrato,") ",e.nombreContrato,"")}}function ze(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Campo requerido "),t.qZA())}function Ve(n,i){if(1&n&&(t.TgZ(0,"mat-option",34),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.descripcion)}}function $e(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Campo requerido "),t.qZA())}function Ge(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Campo requerido "),t.qZA())}function Xe(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Campo requerido "),t.qZA())}function We(n,i){1&n&&(t.TgZ(0,"mat-icon",37),t._uU(1,"cancel"),t.qZA())}function Ke(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-chip",35),t.NdJ("removed",function(){const r=t.CHM(e).$implicit;return t.oxw(2).remove(r)}),t._uU(1),t.YNc(2,We,2,0,"mat-icon",36),t.qZA()}if(2&n){const e=i.$implicit;t.Q6J("selectable",!1)("removable",!0),t.xp6(1),t.hij(" ",e," "),t.xp6(1),t.Q6J("ngIf",!0)}}function tn(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Campo requerido "),t.qZA())}const ut=function(n){return{"mat-form-field-valid":n}};function en(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-card")(1,"mat-card-title",2),t._uU(2,"Reliquidaciones EULEN"),t.qZA(),t.TgZ(3,"mat-card-content")(4,"mat-card-subtitle"),t._uU(5," Persona a reliquidar "),t.qZA(),t.TgZ(6,"form",3)(7,"div",4)(8,"div",5)(9,"mat-form-field",6)(10,"mat-label"),t._uU(11,"Rut"),t.qZA(),t.TgZ(12,"input",7),t.NdJ("focus",function(){return t.CHM(e),t.oxw().onFocus()})("change",function(){return t.CHM(e),t.oxw().rutValido=!1})("focusout",function(){return t.CHM(e),t.oxw().formatRut()}),t.qZA(),t.YNc(13,Ne,2,0,"mat-hint",8),t.YNc(14,Se,2,0,"mat-error",9),t.YNc(15,Re,2,0,"mat-error",9),t.YNc(16,Je,2,0,"mat-error",9),t.qZA(),t.TgZ(17,"button",10),t.NdJ("click",function(){return t.CHM(e),t.oxw().checkRut()}),t._uU(18,"Buscar"),t.qZA()(),t.TgZ(19,"mat-form-field",11)(20,"mat-label"),t._uU(21,"Nombre completo"),t.qZA(),t._UZ(22,"input",12),t.YNc(23,Qe,2,0,"mat-error",9),t.qZA()(),t.TgZ(24,"div",4)(25,"mat-form-field",13)(26,"mat-label"),t._uU(27,"Zona"),t.qZA(),t.TgZ(28,"mat-select",14),t.YNc(29,Ye,2,2,"mat-option",15),t.ALo(30,"keyvalue"),t.qZA(),t.YNc(31,Ee,2,0,"mat-error",9),t.qZA(),t.TgZ(32,"mat-form-field",13)(33,"mat-label"),t._uU(34,"Empresa"),t.qZA(),t.TgZ(35,"mat-select",16),t.YNc(36,De,2,2,"mat-option",15),t.ALo(37,"keyvalue"),t.qZA(),t.YNc(38,Le,2,0,"mat-error",9),t.qZA()(),t.TgZ(39,"div",4)(40,"div",5)(41,"mat-form-field",6)(42,"mat-label"),t._uU(43,"Instalacion"),t.qZA(),t._UZ(44,"input",17),t.YNc(45,je,2,0,"mat-hint",8),t.YNc(46,Be,2,0,"mat-error",9),t.qZA(),t.TgZ(47,"button",10),t.NdJ("click",function(){return t.CHM(e),t.oxw().checkContratos()}),t._uU(48,"Buscar contratos"),t.qZA()(),t.TgZ(49,"mat-form-field",11)(50,"mat-label"),t._uU(51,"Contrato"),t.qZA(),t.TgZ(52,"mat-select",18),t.NdJ("selectionChange",function(){return t.CHM(e),t.oxw().onChange()}),t.YNc(53,He,2,3,"mat-option",19),t.qZA(),t.YNc(54,ze,2,0,"mat-error",9),t.qZA()()()(),t.TgZ(55,"mat-card-content")(56,"mat-card-subtitle"),t._uU(57," Justificacion y monto "),t.qZA(),t.TgZ(58,"form",3)(59,"div",4)(60,"mat-form-field",13)(61,"mat-label"),t._uU(62,"Concepto"),t.qZA(),t.TgZ(63,"mat-select",20),t.YNc(64,Ve,2,2,"mat-option",19),t.qZA(),t.YNc(65,$e,2,0,"mat-error",9),t.qZA(),t.TgZ(66,"mat-form-field",13)(67,"mat-label"),t._uU(68,"Monto"),t.qZA(),t._UZ(69,"input",21),t.YNc(70,Ge,2,0,"mat-error",9),t.qZA()(),t.TgZ(71,"div",4)(72,"mat-form-field",13)(73,"mat-label"),t._uU(74,"Explicacion"),t.qZA(),t._UZ(75,"textarea",22),t.YNc(76,Xe,2,0,"mat-error",9),t.qZA()(),t.TgZ(77,"div")(78,"mat-form-field",13)(79,"mat-label"),t._uU(80,"Seleccione los dias considerados"),t.qZA(),t.TgZ(81,"mat-chip-list",23,24),t.NdJ("click",function(){return t.CHM(e),t.oxw().openDatePicker()}),t.YNc(83,Ke,3,4,"mat-chip",25),t.TgZ(84,"input",26),t.NdJ("click",function(){return t.CHM(e),t.oxw().openDatePicker()})("dateChange",function(a){return t.CHM(e),t.oxw().dateChanged(a)}),t.qZA()(),t._UZ(85,"mat-datepicker-toggle",27)(86,"mat-datepicker",28,29),t.YNc(88,tn,2,0,"mat-error",9),t.qZA()()()(),t.TgZ(89,"div",30)(90,"button",31),t.NdJ("click",function(){return t.CHM(e),t.oxw().onSubmit()}),t._uU(91,"Enviar"),t.qZA()()()}if(2&n){const e=t.MAs(82),o=t.MAs(87),a=t.oxw();let r,l,u,g,x,Z,C,y,A,R,J,Q;t.xp6(6),t.Q6J("formGroup",a.personaForm),t.xp6(3),t.Q6J("ngClass",t.VKq(39,ut,a.rutValido)),t.xp6(3),t.Q6J("maxlength",12),t.xp6(1),t.Q6J("ngIf",a.rutValido),t.xp6(1),t.Q6J("ngIf",null==(r=a.personaForm.get("rutBeneficiario"))?null:r.hasError("required")),t.xp6(1),t.Q6J("ngIf",null==(l=a.personaForm.get("rutBeneficiario"))?null:l.hasError("rut")),t.xp6(1),t.Q6J("ngIf",null==(u=a.personaForm.get("rutBeneficiario"))?null:u.hasError("sinContratos")),t.xp6(7),t.Q6J("ngIf",null==(g=a.personaForm.get("nombreBeneficiario"))?null:g.hasError("required")),t.xp6(5),t.Q6J("disabled",!a.rutValido),t.xp6(1),t.Q6J("ngForOf",t.lcZ(30,35,a.zonas)),t.xp6(2),t.Q6J("ngIf",null==(x=a.personaForm.get("idZona"))?null:x.hasError("required")),t.xp6(4),t.Q6J("disabled",!a.rutValido),t.xp6(1),t.Q6J("ngForOf",t.lcZ(37,37,a.empresas)),t.xp6(2),t.Q6J("ngIf",null==(Z=a.personaForm.get("idEmpresa"))?null:Z.hasError("required")),t.xp6(3),t.Q6J("ngClass",t.VKq(41,ut,a.contratos.length>0)),t.xp6(4),t.Q6J("ngIf",a.contratos.length>0),t.xp6(1),t.Q6J("ngIf",null==(C=a.personaForm.get("nombreInstalacion"))?null:C.hasError("required")),t.xp6(6),t.Q6J("disabled",!a.rutValido),t.xp6(1),t.Q6J("ngForOf",a.contratos),t.xp6(1),t.Q6J("ngIf",null==(y=a.personaForm.get("codigoContrato"))?null:y.hasError("required")),t.xp6(4),t.Q6J("formGroup",a.justificacionForm),t.xp6(6),t.Q6J("ngForOf",a.conceptos),t.xp6(1),t.Q6J("ngIf",null==(A=a.justificacionForm.get("idConcepto"))?null:A.hasError("required")),t.xp6(5),t.Q6J("ngIf",null==(R=a.justificacionForm.get("monto"))?null:R.hasError("required")),t.xp6(6),t.Q6J("ngIf",null==(J=a.justificacionForm.get("explicacion"))?null:J.hasError("required")),t.xp6(7),t.Q6J("ngForOf",a.dias),t.xp6(1),t.Q6J("min",a.rango[0])("max",a.rango[1])("matDatepicker",o)("matChipInputFor",e),t.xp6(1),t.Q6J("for",o),t.xp6(1),t.Q6J("touchUi",a.touch)("startAt",a.hoy)("dateClass",a.dateClass),t.xp6(2),t.Q6J("ngIf",null==(Q=a.justificacionForm.get("fechas"))?null:Q.hasError("required"))}}const nn=function(){return[1]};function an(n,i){if(1&n&&(t.ynx(0),t._UZ(1,"ticket-tablas",3),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("dataSource",e.dataSource)("count",e.count)}}function cn(n,i){if(1&n&&(t.ynx(0),t._UZ(1,"ticket-tablas",3),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("dataSource",e.dataSource)("count",e.count)}}const sn=[{path:"",component:ft,canActivate:[h.B],canActivateChild:[h.B],children:[{path:"",pathMatch:"full",canActivate:[h.B],component:pt},{path:"tickets",component:Vt,canActivateChild:[h.B],children:[{path:"",pathMatch:"full",component:ke},{path:"create",component:(()=>{class n{constructor(e,o,a,r,l){this.breakpointObserver=e,this.fb=o,this.rutService=a,this.ticketService=r,this.swal=l,this.rutValido=!1,this.zonas={},this.empresas={},this.contratos=[],this.conceptos=[],this.touch=!1,this.CLOSE_ON_SELECTED=!1,this.hoy=new Date,this.dias=[],this.rango=[new Date(this.hoy.getFullYear(),this.hoy.getMonth(),1),new Date(this.hoy.getFullYear(),this.hoy.getMonth()+1,0)],this.dateClass=u=>-1!==this.findDate(u)?["selected"]:[],this.personaForm=this.fb.group({rutBeneficiario:[null,[s.kI.required,s.kI.minLength(7),s.kI.maxLength(12)]],codigoPayroll:[null,s.kI.required],nombreBeneficiario:[null,[s.kI.required]],idZona:[null,[s.kI.required,s.kI.pattern(/\d/)]],idEmpresa:[null,[s.kI.required]],codigoInstalacion:[null,s.kI.required],nombreInstalacion:[null,[s.kI.required,s.kI.pattern(/\d/)]],codigoContrato:[null,s.kI.required],nombreContrato:[null,s.kI.required]}),this.justificacionForm=this.fb.group({idConcepto:[null,[s.kI.required]],monto:[null,[s.kI.required]],explicacion:[""],dias:[null,[s.kI.required]]}),this.breakpointObserver.observe([F.u3.Small,F.u3.HandsetPortrait]).subscribe(u=>{this.touch=!!u.matches})}ngOnInit(){this.ticketService.checkConcepto().pipe((0,W.U)(e=>{var o;return e.ok&&(e.data.conceptos=null===(o=e.data)||void 0===o?void 0:o.conceptos.filter(a=>"r"===a.tipo)),e})).subscribe(e=>{var o;this.conceptos=(null==e?void 0:e.ok)?null===(o=e.data)||void 0===o?void 0:o.conceptos:[]})}formatRut(){const e=this.personaForm.get("rutBeneficiario");(null==e?void 0:e.value.length)<7||(this.rutService.validar(null==e?void 0:e.value)?null==e||e.setErrors({rut:!1}):null==e||e.setErrors({rut:!0}),null==e||e.setValue(this.rutService.formatear(e.value)))}onFocus(){this.rutValido=!1;const e=this.personaForm.get("rutBeneficiario");null==e||e.setValue(this.rutService.limpiar(e.value))}dateChanged(e){var o,a,r;if(e.value){const l=e.value,u=this.findDate(l);if(-1===u?(this.dias.push(l.getDate().toString()),null===(o=this.justificacionForm.get("dias"))||void 0===o||o.setValue(this.dias)):(this.dias.splice(u,1),null===(a=this.justificacionForm.get("dias"))||void 0===a||a.setValue(this.dias)),!this.CLOSE_ON_SELECTED){const g=null===(r=this.picker)||void 0===r?void 0:r.close;this.picker.close=()=>{},this.picker._componentRef.instance._calendar.monthView._createWeekCells(),setTimeout(()=>{this.picker.close=g})}}}findDate(e){return this.dias.map(a=>a).indexOf(e.getDate().toString())}openDatePicker(){this.picker.open()}remove(e){var o;const a=new Date,r=this.findDate(new Date(a.getFullYear(),a.getMonth(),Number(e)));this.dias.splice(r,1),null===(o=this.justificacionForm.get("dias"))||void 0===o||o.setValue(this.dias)}checkRut(){const e=this.personaForm.get("rutBeneficiario");(null==e?void 0:e.valid)?this.ticketService.checkRut(e.value).pipe((0,Fe.K)(o=>{var a;return null===(a=this.personaForm.get("rutBeneficiario"))||void 0===a||a.setErrors({sinContratos:!0}),(0,Ue.of)({data:void 0,ok:!1})})).subscribe(o=>{var a,r,l,u,g,x,Z,C;o.ok&&(this.rutValido=!0,this.personaForm.enable(),null===(a=this.personaForm.get("codigoPayroll"))||void 0===a||a.setValue(null===(r=o.data)||void 0===r?void 0:r.codigoPayroll),null===(l=this.personaForm.get("nombreBeneficiario"))||void 0===l||l.setValue(null===(u=o.data)||void 0===u?void 0:u.nombre),this.zonas={[null===(g=o.data)||void 0===g?void 0:g.codigoZona]:null===(x=o.data)||void 0===x?void 0:x.zona},this.empresas={[null===(Z=o.data)||void 0===Z?void 0:Z.codigoEmpresa]:null===(C=o.data)||void 0===C?void 0:C.empresa})}):null==e||e.markAsTouched()}checkContratos(){var e,o,a,r,l,u;const{idZona:g,idEmpresa:x,nombreInstalacion:Z}=this.personaForm.value;if(!g||!x||!Z)return null===(e=this.personaForm.get("idZona"))||void 0===e||e.markAsTouched(),null===(o=this.personaForm.get("codigoEmpresa"))||void 0===o||o.markAsTouched(),null===(a=this.personaForm.get("codigoInstalacion"))||void 0===a||a.markAsTouched(),null===(r=this.personaForm.get("zona"))||void 0===r||r.setErrors({required:!0}),null===(l=this.personaForm.get("empresa"))||void 0===l||l.setErrors({required:!0}),void(null===(u=this.personaForm.get("instalacion"))||void 0===u||u.setErrors({required:!0}));this.contratos=[],this.ticketService.checkContratos(g,x,Z).subscribe(C=>{var y,A;C.ok&&(null===(y=this.personaForm.get("codigoInstalacion"))||void 0===y||y.setValue(C.data[0].idInstalacion),null===(A=this.personaForm.get("nombreInstalacion"))||void 0===A||A.setValue(C.data[0].nombreInstalacion),this.contratos=C.data)})}onChange(){var e,o,a;const r=null===(e=this.personaForm.get("codigoContrato"))||void 0===e?void 0:e.value,l=null===(o=this.contratos.find(u=>u.idcontrato==r))||void 0===o?void 0:o.nombreContrato;null===(a=this.personaForm.get("nombreContrato"))||void 0===a||a.setValue(`(${r}) ${l}`)}onSubmit(){this.personaForm.markAllAsTouched(),this.justificacionForm.markAllAsTouched();const e=this.justificacionForm.value,{dias:o}=e,a=(0,Me._T)(e,["dias"]),r=new Date(this.hoy.getFullYear(),this.hoy.getMonth(),Number(o.sort()[0])).toISOString(),l=new Date(this.hoy.getFullYear(),this.hoy.getMonth(),Number(o.sort()[o.length-1])).toISOString(),u=Object.assign(Object.assign({fechaInicio:r,fechaTermino:l,dias:`${o}`},this.personaForm.value),a);this.ticketService.enviarReliquidacion(u).subscribe(g=>{g.ok&&this.swal.createAlert({title:"Reliquidacion enviada",icon:"success",showConfirmButton:!1,timer:2e3,timerProgressBar:!0}).then(()=>{this.dias=[],this.rutValido=!1,this.contratos=[],this.personaForm.reset(),this.justificacionForm.reset()})})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(F.Yg),t.Y36(s.qu),t.Y36(Pe),t.Y36(k),t.Y36(nt.c))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-reliquidacion"]],viewQuery:function(e,o){if(1&e&&t.Gf(Ie,5),2&e){let a;t.iGM(a=t.CRH())&&(o.picker=a.first)}},features:[t._Bn([])],decls:2,vars:3,consts:[[3,"loading"],[4,"ifRoles"],[1,"header"],[3,"formGroup"],["fxLayout","column","fxLayout.md","row","fxLayout.lg","row","fxLayout.xl","row","fxLayoutGap","90px"],["fxFlex","50%",1,"input-wrapper"],["appearance","outline",3,"ngClass"],["matInput","","placeholder","Ej: 12.345.678-9","formControlName","rutBeneficiario",3,"maxlength","focus","change","focusout"],["class","success",4,"ngIf"],[4,"ngIf"],["type","button","mat-flat-button","","color","primary",3,"click"],["appearance","outline","fxFlex","50%"],["matInput","","formControlName","nombreBeneficiario"],["appearance","outline"],["formControlName","idZona",3,"disabled"],["selected","",3,"value",4,"ngFor","ngForOf"],["formControlName","idEmpresa",3,"disabled"],["matInput","","formControlName","nombreInstalacion"],["matInput","","formControlName","codigoContrato",3,"disabled","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","idConcepto"],["matInput","","formControlName","monto"],["matInput","","formControlName","explicacion"],[3,"click"],["chipList",""],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],["matInput","","formControlName","dias","placeholder","Seleccione los dias considerados",3,"min","max","matDatepicker","matChipInputFor","click","dateChange"],["matPrefix","",3,"for"],[3,"touchUi","startAt","dateClass"],["picker",""],[1,"actions"],["mat-flat-button","","color","primary",3,"click"],[1,"success"],["selected","",3,"value"],[3,"value"],[3,"selectable","removable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""]],template:function(e,o){1&e&&(t._UZ(0,"app-loading",0),t.YNc(1,en,92,43,"mat-card",1)),2&e&&(t.Q6J("loading",!o.conceptos),t.xp6(1),t.Q6J("ifRoles",t.DdM(2,nn)))},directives:[w.N,mt,f.a8,f.n5,f.dn,f.$j,s._Y,s.JL,s.sg,d.xw,d.SQ,d.yH,b.KE,p.mk,lt.oO,b.hX,j.Nt,s.Fj,s.JJ,s.u,s.nD,p.O5,b.bx,b.TO,O.lW,L.gD,p.sg,I.ey,M.qn,M.HS,N.Hw,M.qH,$.hl,M.oH,$.nW,b.qo,$.Mq],pipes:[p.Nd],styles:["mat-card[_ngcontent-%COMP%]{display:grid;grid-gap:30px;gap:30px}button[_ngcontent-%COMP%]{margin-left:10px}div.actions[_ngcontent-%COMP%]{display:flex;justify-content:center}div.input-wrapper[_ngcontent-%COMP%]{display:flex;align-items:flex-start}div.input-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:none;margin-top:12px}  mat-form-field{width:100%}  mat-form-field mat-chip-list{width:100%;height:100%}  .mat-calendar-body-cell.selected>.mat-calendar-body-cell-content,   .mat-calendar-body-cell.selected:hover>.mat-calendar-body-cell-content,   .mat-calendar-body-cell.selected>.mat-calendar-body-cell-content:hover{background-color:#001b46!important;color:#fff!important}"]}),n})()},{path:"pending",component:(()=>{class n{constructor(e){this.ticketService=e,this.count=0,this.loading=!1,this.suscriptions=[]}ngOnInit(){this.loading=!0;const e=this.ticketService.obtenerListado(void 0,"pendiente").subscribe(o=>{o.ok&&(this.count=o.count,this.dataSource=new _.by(o.data)),this.loading=!1});this.suscriptions.push(e)}ngOnDestroy(){this.suscriptions.forEach(e=>e.unsubscribe())}applyFilters(e){this.loading=!0,this.debounce&&clearTimeout(this.debounce),this.debounce=setTimeout(()=>{this.ticketService.obtenerListado(e,"pendiente").subscribe(o=>{o.ok&&(this.dataSource=new _.by(o.data)),this.loading=!1})},1e3)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(k))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-ticket-pendientes"]],decls:5,vars:2,consts:[[3,"loading"],[3,"filtrar"],[4,"ngIf"],[3,"dataSource","count"]],template:function(e,o){1&e&&(t._UZ(0,"app-loading",0),t.TgZ(1,"mat-card")(2,"app-filtros",1),t.NdJ("filtrar",function(r){return o.applyFilters(r)}),t.qZA()(),t.TgZ(3,"div"),t.YNc(4,an,2,2,"ng-container",2),t.qZA()),2&e&&(t.Q6J("loading",o.loading),t.xp6(4),t.Q6J("ngIf",o.dataSource))},directives:[w.N,f.a8,H,p.O5,V],styles:["mat-header-cell[_ngcontent-%COMP%]{text-align:center;justify-content:center}mat-row[_ngcontent-%COMP%]{gap:10px}mat-row[_ngcontent-%COMP%]   mat-cell[_ngcontent-%COMP%]{white-space:nowrap;gap:10px;text-overflow:ellipsis;overflow:hidden}mat-row[_ngcontent-%COMP%]   mat-cell.centered[_ngcontent-%COMP%]{justify-content:center}mat-card[_ngcontent-%COMP%]{width:auto;margin-bottom:8px}.filters[_ngcontent-%COMP%]{overflow:hidden;display:flex}.labeled-cell[_ngcontent-%COMP%]{display:grid;justify-items:start}.labeled-cell[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:gray;font-size:10px}.mat-column-id[_ngcontent-%COMP%]{flex:0 0 10%}"],data:{animation:[(0,v.X$)("detailExpand",[(0,v.SB)("collapsed",(0,v.oB)({height:"0px",minHeight:"0"})),(0,v.SB)("expanded",(0,v.oB)({height:"*"})),(0,v.eR)("expanded <=> collapsed",(0,v.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),n})()},{path:"resolved",component:(()=>{class n{constructor(e){this.ticketService=e,this.count=0,this.loading=!1,this.suscriptions=[]}ngOnInit(){const e=this.ticketService.obtenerListado(void 0,"terminado").subscribe(o=>{o.ok&&(this.count=o.count,this.dataSource=new _.by(o.data)),this.loading=!1});this.suscriptions.push(e)}ngOnDestroy(){this.suscriptions.forEach(e=>e.unsubscribe())}applyFilters(e){this.loading=!0,this.debounce&&clearTimeout(this.debounce),this.debounce=setTimeout(()=>{this.ticketService.obtenerListado(e,"terminado").subscribe(o=>{o.ok&&(this.count=o.count,this.dataSource=new _.by(o.data)),this.loading=!1})},1e3)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(k))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-ticket-resueltos"]],decls:5,vars:2,consts:[[3,"loading"],[3,"filtrar"],[4,"ngIf"],[3,"dataSource","count"]],template:function(e,o){1&e&&(t._UZ(0,"app-loading",0),t.TgZ(1,"mat-card")(2,"app-filtros",1),t.NdJ("filtrar",function(r){return o.applyFilters(r)}),t.qZA()(),t.TgZ(3,"div"),t.YNc(4,cn,2,2,"ng-container",2),t.qZA()),2&e&&(t.Q6J("loading",o.loading),t.xp6(4),t.Q6J("ngIf",o.dataSource))},directives:[w.N,f.a8,H,p.O5,V],styles:["mat-header-cell[_ngcontent-%COMP%]{text-align:center;justify-content:center}mat-row[_ngcontent-%COMP%]{gap:10px}mat-row[_ngcontent-%COMP%]   mat-cell[_ngcontent-%COMP%]{white-space:nowrap;gap:10px;text-overflow:ellipsis;overflow:hidden}mat-row[_ngcontent-%COMP%]   mat-cell.centered[_ngcontent-%COMP%]{justify-content:center}mat-card[_ngcontent-%COMP%]{width:auto;margin-bottom:8px}.filters[_ngcontent-%COMP%]{overflow:hidden;display:flex}.labeled-cell[_ngcontent-%COMP%]{display:grid;justify-items:start}.labeled-cell[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:gray;font-size:10px}.mat-column-id[_ngcontent-%COMP%]{flex:0 0 10%}"]}),n})()},{path:"details/:id",component:Yt},{path:"**",redirectTo:""}]}]},{path:"**",redirectTo:""}];let mn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[m.Bz.forChild(sn)],m.Bz]}),n})();var un=c(6227);let dn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[k,mt,P.e],imports:[[p.ez,m.Bz,s.UX,mn,un.m]]}),n})()},3224:G=>{function q(m){return"string"==typeof m?m.replace(/^0+|[^0-9kK]+/g,"").toUpperCase():""}G.exports={validate:function c(m){if("string"!=typeof m||/^0+/.test(m)||!/^0*(\d{1,3}(\.?\d{3})*)-?([\dkK])$/.test(m))return!1;m=q(m);let h=parseInt(m.slice(0,-1),10),t=0,d=1;for(;h>0;)d=(d+h%10*(9-t++%6))%11,h=Math.floor(h/10);return(d>0?""+(d-1):"K")===m.slice(-1)},clean:q,format:function s(m,h={dots:!0}){let t;if(m=q(m),h.dots){t=m.slice(-4,-1)+"-"+m.substr(m.length-1);for(let d=4;d<m.length;d+=3)t=m.slice(-3-d,-d)+"."+t}else t=m.slice(0,-1)+"-"+m.substr(m.length-1);return t},getCheckDigit:function p(m){const h=Array.from(q(m),Number);if(0===h.length||h.includes(NaN))throw new Error(`"${m}" as RUT is invalid`);const U=11-h.reverse().reduce((O,Y,E)=>O+Y*(E%6+2),0)%11;return 10===U?"K":11===U?"0":U.toString()}}}}]);