(self.webpackChunkTickets=self.webpackChunkTickets||[]).push([[366],{9366:(j,b,r)=>{"use strict";r.r(b),r.d(b,{HomeModule:()=>Oe});var _=r(9808),h=r(1083),s=r(7696),t=r(5e3),d=r(7093),l=r(9224),U=r(1749),T=r(7423),N=r(4834);function S(o,i){if(1&o&&(t.ynx(0),t.TgZ(1,"mat-card-header")(2,"mat-card-title"),t._uU(3),t.ALo(4,"titlecase"),t.qZA(),t.TgZ(5,"mat-card-subtitle"),t._uU(6),t.qZA()(),t.TgZ(7,"mat-card-actions")(8,"button",7),t._uU(9,"Acceder"),t.qZA()(),t._UZ(10,"mat-divider"),t.BQk()),2&o){const e=i.$implicit;t.xp6(3),t.hij(" ",t.lcZ(4,2,e.section)," "),t.xp6(3),t.hij(" ",e.desc," ")}}function R(o,i){if(1&o&&(t.TgZ(0,"mat-card",2)(1,"div",3),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"mat-card-content",4)(5,"mat-card-header")(6,"mat-card-title"),t._uU(7),t.ALo(8,"titlecase"),t.qZA(),t.TgZ(9,"mat-card-subtitle"),t._uU(10),t.qZA()(),t.TgZ(11,"mat-card-actions")(12,"button",5),t._uU(13,"Acceder"),t.qZA()(),t._UZ(14,"mat-divider"),t.YNc(15,S,11,4,"ng-container",6),t.qZA()()),2&o){const e=i.$implicit;t.xp6(2),t.Oqu(t.lcZ(3,5,e.header)),t.xp6(5),t.hij(" ",t.lcZ(8,7,e.section)," "),t.xp6(3),t.hij(" ",e.desc," "),t.xp6(2),t.Q6J("routerLink",e.link),t.xp6(3),t.Q6J("ngForOf",e.suboption)}}let rt=(()=>{class o{constructor(){this.options=[]}ngOnInit(){this.options=[{header:"finanzas",section:"Reliquidaciones",desc:"Solicitudes de reliquidaciones",link:"/tickets/create"}]}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-home"]],decls:2,vars:1,consts:[["fxLayout","row wrap","fxLayoutGap","10px"],["fxFlex","25",4,"ngFor","ngForOf"],["fxFlex","25"],["mat-card-over",""],["fxLayout","column","fxLayoutAlign","none center"],["mat-flat-button","","color","primary",3,"routerLink"],[4,"ngFor","ngForOf"],["mat-flat-button","","color","primary"]],template:function(e,n){1&e&&(t.TgZ(0,"section",0),t.YNc(1,R,16,9,"mat-card",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",n.options))},directives:[d.xw,d.SQ,_.sg,l.a8,d.yH,U.Q,l.dn,d.Wh,l.dk,l.n5,l.$j,l.hq,T.lW,h.rH,N.d],pipes:[_.rS],styles:["section[_ngcontent-%COMP%]{background-color:gray;padding-top:100px;height:100%}section[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}section[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{margin-top:72px}section[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{text-align:center}.mat-card[_ngcontent-%COMP%]   .mat-divider-horizontal[_ngcontent-%COMP%]{position:relative}"]}),o})();var H=r(4594),J=r(4623);let ct=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-index"]],decls:9,vars:0,consts:[["color","primary"],["src","/assets/logo2.png","alt",""],[1,"spacer"],["mat-list-item","","routerLink","/"]],template:function(e,n){1&e&&(t.TgZ(0,"main")(1,"mat-toolbar",0),t._UZ(2,"img",1),t.TgZ(3,"span"),t._uU(4,"Sistema de tickets"),t.qZA(),t._UZ(5,"span",2),t.TgZ(6,"a",3),t._uU(7,"Inicio"),t.qZA()(),t._UZ(8,"router-outlet"),t.qZA())},directives:[H.Ye,J.Tg,h.yS,h.lC],styles:["img[_ngcontent-%COMP%]{height:100%}a[_ngcontent-%COMP%]{text-decoration:none;color:#fff}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),o})();var B=r(655),V=r(4004),w=r(262),Q=r(9646),y=r(2340),z=r(520),lt=r(704);let F=(()=>{class o{constructor(e,n){this.http=e,this.swal=n}checkRut(e){return this.http.get(y.N.url+"/api/int/v1/contratos/contratos/"+e,{withCredentials:!0})}checkContratos(e,n,a){return this.http.get(y.N.url+"/api/int/v1/contratos/contratos",{params:{zona:e,empresa:n,instalacion:a},withCredentials:!0}).pipe((0,w.K)(c=>(this.swal.createAlert({title:"Error",icon:"error",text:c.error.data}),(0,Q.of)({data:void 0,ok:!1}))))}checkConcepto(){return this.http.get(y.N.url+"/api/int/v1/contratos/concepto",{withCredentials:!0}).pipe((0,w.K)(e=>(this.swal.createAlert({title:"Error",icon:"error",text:e.error.data}),(0,Q.of)({data:{conceptos:[],zona:null},ok:!1}))))}enviarReliquidacion(e){return this.http.post(y.N.url+"/api/int/v1/contratos",Object.assign({},e),{withCredentials:!0})}obtenerListado(){return this.http.get(y.N.url+"/api/int/v1/contratos/listado",{withCredentials:!0})}obtenerDetalles(e){return this.http.get(y.N.url+"/api/int/v1/contratos/detalles",{params:{id:e},withCredentials:!0})}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(z.eN),t.LFG(lt.c))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),st=(()=>{class o{transform(e){return e.replace(/([A-Z])/g," $1")}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275pipe=t.Yjl({name:"title",type:o,pure:!0}),o})(),mt=(()=>{class o{transform(e){return"v"===e?"Validado":"r"===e?"Rechazado":"Pendiente"}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275pipe=t.Yjl({name:"validaciones",type:o,pure:!0}),o})();function ut(o,i){if(1&o&&(t.TgZ(0,"div",7)(1,"span",8)(2,"strong",9),t._uU(3),t.ALo(4,"titlecase"),t.ALo(5,"title"),t.qZA(),t.TgZ(6,"p",10),t._uU(7),t.qZA()(),t._UZ(8,"hr"),t.qZA()),2&o){const e=i.$implicit;t.xp6(3),t.hij("",t.lcZ(4,2,t.lcZ(5,4,e.key)),":"),t.xp6(4),t.Oqu(e.value)}}function dt(o,i){if(1&o&&(t.TgZ(0,"div",7)(1,"span",8)(2,"strong",9),t._uU(3),t.ALo(4,"titlecase"),t.ALo(5,"title"),t.qZA(),t.TgZ(6,"p",10),t._uU(7),t.qZA()(),t._UZ(8,"hr"),t.qZA()),2&o){const e=i.$implicit;t.xp6(3),t.hij("",t.lcZ(4,2,t.lcZ(5,4,e.key)),":"),t.xp6(4),t.Oqu(e.value)}}function pt(o,i){if(1&o&&(t.ynx(0),t.TgZ(1,"div",7)(2,"span",8)(3,"strong",9),t._uU(4,"Validacion 2:"),t.qZA(),t.TgZ(5,"p",10),t._uU(6),t.ALo(7,"validaciones"),t.qZA()(),t._UZ(8,"hr"),t.qZA(),t.BQk()),2&o){const e=t.oxw();t.xp6(6),t.Oqu(t.lcZ(7,1,null==e.solicitud.validaciones?null:e.solicitud.validaciones[1].estado))}}let _t=(()=>{class o{constructor(e,n,a){this.location=e,this.ticketService=n,this.activeRoute=a,this.solicitud={}}ngOnInit(){const{id:e}=this.activeRoute.snapshot.params;this.ticketService.obtenerDetalles(e).pipe((0,V.U)(({data:n})=>{const{codigoContrato:a,nombreContrato:c,codigoInstalacion:m,nombreInstalacion:p,nombreEmpresa:f,zona:C,validaciones:Z}=n,x=(0,B._T)(n,["codigoContrato","nombreContrato","codigoInstalacion","nombreInstalacion","nombreEmpresa","zona","validaciones","solicitante"]);return{encabezado:{zona:C,nombreEmpresa:f,codigoContrato:a,nombreContrato:c,codigoInstalacion:m,nombreInstalacion:p},informacion:Object.assign({},x),validaciones:Z}})).subscribe(n=>{this.solicitud=n}),console.log(e)}ordenarSolicitud(e,n){return 0}volver(){this.location.back()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(_.Ye),t.Y36(F),t.Y36(h.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-detalles"]],decls:31,vars:12,consts:[["fxLayout","column","fxLayoutGap","19px"],[1,"actions"],["mat-flat-button","","color","warn"],["mat-flat-button","","color","primary",3,"click"],[1,"header"],["fxLayout.lg","row wrap","fxLayout","column","fxLayoutGap","19px"],["fxFlex","48",4,"ngFor","ngForOf"],["fxFlex","48"],["fxLayout.lg","row","fxLayout","column","fxLayoutGap","19px"],["fxFlex","30%"],["fxFlex","70%"],[4,"ngIf"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"button",2),t._uU(3,"Eliminar solicitud"),t.qZA(),t.TgZ(4,"button",3),t.NdJ("click",function(){return n.volver()}),t._uU(5,"volver"),t.qZA()(),t.TgZ(6,"mat-card")(7,"mat-card-title",4),t._uU(8,"Encabezado solicitud"),t.qZA(),t.TgZ(9,"mat-card-content",5),t.YNc(10,ut,9,6,"div",6),t.ALo(11,"keyvalue"),t.qZA()(),t.TgZ(12,"mat-card")(13,"mat-card-title",4),t._uU(14,"Informaci\xf3n perfil vacante"),t.qZA(),t.TgZ(15,"mat-card-content",5),t.YNc(16,dt,9,6,"div",6),t.ALo(17,"keyvalue"),t.qZA()(),t.TgZ(18,"mat-card")(19,"mat-card-title",4),t._uU(20,"Validaciones"),t.qZA(),t.TgZ(21,"mat-card-content",5)(22,"div",7)(23,"span",8)(24,"strong",9),t._uU(25,"Validacion 1:"),t.qZA(),t.TgZ(26,"p",10),t._uU(27),t.ALo(28,"validaciones"),t.qZA()(),t._UZ(29,"hr"),t.qZA(),t.YNc(30,pt,9,3,"ng-container",11),t.qZA()()()),2&e&&(t.xp6(10),t.Q6J("ngForOf",t.xi3(11,4,n.solicitud.encabezado,n.ordenarSolicitud)),t.xp6(6),t.Q6J("ngForOf",t.xi3(17,7,n.solicitud.informacion,n.ordenarSolicitud)),t.xp6(11),t.Oqu(t.lcZ(28,10,null==n.solicitud.validaciones?null:n.solicitud.validaciones[0].estado)),t.xp6(3),t.Q6J("ngIf","v"==(null==n.solicitud.validaciones?null:n.solicitud.validaciones[0].estado)))},directives:[d.xw,d.SQ,T.lW,l.a8,l.n5,l.dn,_.sg,d.yH,_.O5],pipes:[_.Nd,_.rS,st,mt],styles:[".actions[_ngcontent-%COMP%]{display:flex;width:100%;gap:19px;justify-content:flex-end}mat-card[_ngcontent-%COMP%]{padding:19px}"]}),o})();var O=r(5113),P=r(2638),Y=r(9416);let ft=(()=>{class o{constructor(e){this.authService=e}ngOnInit(){this.authService.getCurrentUser().subscribe(e=>{e&&(this.user=e)})}logout(){this.authService.logout().subscribe()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(Y.e))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-perfil"]],decls:12,vars:2,consts:[["fxLayout","column","fxLayoutAlign","space-around center"],["mat-card-avatar","","src","/assets/No_avatar.png","alt",""],["mat-button","",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-card",0),t._UZ(1,"img",1),t.TgZ(2,"mat-card-title-group")(3,"mat-card-title"),t._uU(4,"Usuario"),t.qZA(),t.TgZ(5,"mat-card-subtitle"),t._uU(6),t.qZA()(),t.TgZ(7,"mat-card-subtitle"),t._uU(8),t.qZA(),t.TgZ(9,"mat-card-actions")(10,"button",2),t.NdJ("click",function(){return n.logout()}),t._uU(11,"Log out"),t.qZA()()()),2&e&&(t.xp6(6),t.Oqu(null==n.user?null:n.user.name),t.xp6(2),t.hij(" Zona: ",null==n.user?null:n.user.zona," "))},directives:[l.a8,d.xw,d.Wh,l.kc,l.C1,l.n5,l.$j,l.hq,T.lW],styles:["*[_ngcontent-%COMP%]{color:#fff}a[_ngcontent-%COMP%]{cursor:pointer}img[_ngcontent-%COMP%]{height:60px;width:60px}mat-card[_ngcontent-%COMP%]{border:none;box-shadow:none;background-color:transparent}mat-card-title[_ngcontent-%COMP%]{text-align:center}"]}),o})();function gt(o,i){if(1&o&&(t.TgZ(0,"mat-nav-list")(1,"a",1),t._uU(2),t.qZA(),t._UZ(3,"hr"),t.qZA()),2&o){const e=i.$implicit;t.xp6(1),t.Q6J("routerLink",e.link),t.xp6(1),t.hij(" ",e.name," ")}}let ht=(()=>{class o{constructor(){this.links=[]}ngOnInit(){this.links=[{name:"Crear ticket",link:"/tickets/create"},{name:"Mis tickets",link:"/tickets"},{name:"Tickets pendientes",link:"/tickets/pending"},{name:"Tickets resueltos",link:"/tickets/resolved"}]}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-sidebar"]],decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],["mat-list-item","",3,"routerLink"]],template:function(e,n){1&e&&(t._UZ(0,"app-perfil"),t.YNc(1,gt,4,2,"mat-nav-list",0)),2&e&&(t.xp6(1),t.Q6J("ngForOf",n.links))},directives:[ft,_.sg,J.Hk,J.Tg,h.yS],styles:[".mat-list-item[_ngcontent-%COMP%], .mat-nav-list[_ngcontent-%COMP%]{color:#fff}hr[_ngcontent-%COMP%]{height:1px;background-color:#dedede;margin:0 10px;display:block;border-radius:10px;box-shadow:0 0 4px #666}"]}),o})();var D=r(5245);let vt=(()=>{class o{constructor(e){this.breakpointObserver=e,this.mode="side",this.breakpointObserver.observe([O.u3.Small,O.u3.HandsetPortrait]).subscribe(n=>{this.mode=n.matches?"push":"side"})}ngOnDestroy(){}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(O.Yg))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-index"]],decls:11,vars:2,consts:[["autosize",""],[3,"mode","opened"],["snav",""],["color","primary"],["mat-icon-button","",3,"click"]],template:function(e,n){if(1&e){const a=t.EpF();t.TgZ(0,"mat-drawer-container",0)(1,"mat-drawer",1,2),t._UZ(3,"app-sidebar"),t.qZA(),t.TgZ(4,"mat-drawer-content")(5,"mat-toolbar",3)(6,"button",4),t.NdJ("click",function(){return t.CHM(a),t.MAs(2).toggle()}),t.TgZ(7,"mat-icon"),t._uU(8,"menu"),t.qZA()()(),t.TgZ(9,"section"),t._UZ(10,"router-outlet"),t.qZA()()()}2&e&&(t.xp6(1),t.Q6J("mode",n.mode)("opened","side"==n.mode))},directives:[P.kh,P.jA,ht,P.LW,H.Ye,T.lW,D.Hw,h.lC],styles:["mat-drawer-container[_ngcontent-%COMP%]{height:calc(100% - 64px)}mat-drawer-container[_ngcontent-%COMP%]   mat-drawer[_ngcontent-%COMP%]{background-color:#001b46;min-width:200px}mat-drawer-container[_ngcontent-%COMP%]   mat-drawer-content[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]{position:static}mat-drawer-container[_ngcontent-%COMP%]   mat-drawer-content[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{position:relative}mat-drawer-container[_ngcontent-%COMP%]   mat-drawer-content[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{position:relative;width:100%}"]}),o})();var q=r(1777),E=r(4847),v=r(4999),k=r(7322),$=r(7531),A=r(6688),G=r(8424),X=r(3322),Ct=r(7238),Zt=r(6087);function Tt(o,i){1&o&&(t.TgZ(0,"mat-icon",10),t._uU(1,"cancel"),t.qZA())}function xt(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"mat-chip",8),t.NdJ("removed",function(){const c=t.CHM(e).$implicit;return t.oxw().remove(c)}),t._uU(1),t.YNc(2,Tt,2,0,"mat-icon",9),t.qZA()}if(2&o){const e=i.$implicit;t.Q6J("selectable",!1)("removable",!0),t.xp6(1),t.hij(" ",e," "),t.xp6(1),t.Q6J("ngIf",!0)}}const K=function(){return{width:"20px"}};function bt(o,i){1&o&&(t.TgZ(0,"mat-header-cell",28),t._uU(1," ID "),t.qZA()),2&o&&t.Q6J("ngStyle",t.DdM(1,K))}function qt(o,i){if(1&o&&(t.TgZ(0,"mat-cell",29),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("ngStyle",t.DdM(2,K)),t.xp6(1),t.hij(" ",e.id," ")}}function kt(o,i){1&o&&(t.TgZ(0,"mat-header-cell",30),t._uU(1," CONTRATO "),t.qZA())}function At(o,i){if(1&o&&(t.TgZ(0,"mat-cell")(1,"div",31)(2,"label"),t._uU(3),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.qZA()()()),2&o){const e=i.$implicit;t.xp6(3),t.Oqu(e.codigoContrato),t.xp6(2),t.Oqu(e.nombreContrato)}}function yt(o,i){1&o&&(t.TgZ(0,"mat-header-cell"),t._uU(1," EMPRESA "),t.qZA())}function Ot(o,i){if(1&o&&(t.TgZ(0,"mat-cell")(1,"div",31)(2,"label"),t._uU(3),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.qZA()()()),2&o){const e=i.$implicit;t.xp6(3),t.Oqu(e.zona),t.xp6(2),t.Oqu(e.nombreEmpresa)}}function Mt(o,i){1&o&&(t.TgZ(0,"mat-header-cell"),t._uU(1," INSTALACION "),t.qZA())}function Ut(o,i){if(1&o&&(t.TgZ(0,"mat-cell")(1,"div",31)(2,"label"),t._uU(3),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.qZA()()()),2&o){const e=i.$implicit;t.xp6(3),t.Oqu(e.codigoInstalacion),t.xp6(2),t.Oqu(e.nombreInstalacion)}}function Ft(o,i){1&o&&(t.TgZ(0,"mat-header-cell"),t._uU(1," MOTIVO SOLICITUD "),t.qZA())}const It=function(o){return[o]};function Nt(o,i){if(1&o&&(t.TgZ(0,"mat-cell")(1,"a",32),t._uU(2),t.ALo(3,"titlecase"),t.qZA()()),2&o){const e=i.$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(4,It,"./details/"+e.id)),t.xp6(1),t.hij(" ",t.lcZ(3,2,e.nombreConcepto),"")}}function St(o,i){1&o&&(t.TgZ(0,"mat-header-cell"),t._uU(1," BENEFICIARIO "),t.qZA())}function Rt(o,i){if(1&o&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.xp6(1),t.hij(" ",e.rutBeneficiario," ")}}function Jt(o,i){1&o&&(t.TgZ(0,"mat-header-cell"),t._uU(1," VALIDACION "),t.qZA())}const wt=function(){return{color:"green"}};function Qt(o,i){if(1&o&&(t.TgZ(0,"mat-icon",36),t._uU(1,"check_circle"),t.qZA()),2&o){const e=t.oxw().index;t.Q6J("ngStyle",t.DdM(2,wt))("matTooltip","Validacion "+(e+1))}}const Pt=function(){return{color:"blue"}};function Yt(o,i){if(1&o&&(t.TgZ(0,"mat-icon",36),t._uU(1,"pending"),t.qZA()),2&o){const e=t.oxw().index;t.Q6J("ngStyle",t.DdM(2,Pt))("matTooltip","Validacion "+(e+1))}}const Dt=function(){return{color:"red"}};function Et(o,i){if(1&o&&(t.TgZ(0,"mat-icon",36),t._uU(1,"cancel"),t.qZA()),2&o){const e=t.oxw().index;t.Q6J("ngStyle",t.DdM(2,Dt))("matTooltip","Validacion "+(e+1))}}function Lt(o,i){if(1&o&&(t.ynx(0),t.YNc(1,Qt,2,3,"mat-icon",35),t.YNc(2,Yt,2,3,"mat-icon",35),t.YNc(3,Et,2,3,"mat-icon",35),t.BQk()),2&o){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf","v"==e.estado),t.xp6(1),t.Q6J("ngIf","p"==e.estado),t.xp6(1),t.Q6J("ngIf","r"==e.estado)}}function jt(o,i){if(1&o&&(t.TgZ(0,"mat-cell",33),t.YNc(1,Lt,4,3,"ng-container",34),t.qZA()),2&o){const e=i.$implicit;t.xp6(1),t.Q6J("ngForOf",e.validaciones)}}function Ht(o,i){1&o&&t._UZ(0,"mat-header-row")}function Bt(o,i){1&o&&t._UZ(0,"mat-row")}function Vt(o,i){if(1&o&&(t.TgZ(0,"mat-row")(1,"mat-cell",37),t._uU(2),t.qZA()()),2&o){t.oxw(2);const e=t.MAs(3);t.xp6(2),t.hij('Ningun registro con el valor "',e.value,'"')}}function zt(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"mat-table",11),t.NdJ("matSortChange",function(a){return t.CHM(e),t.oxw().sortData(a)}),t.ynx(1,12),t.YNc(2,bt,2,2,"mat-header-cell",13),t.YNc(3,qt,2,3,"mat-cell",14),t.BQk(),t.ynx(4,15),t.YNc(5,kt,2,0,"mat-header-cell",16),t.YNc(6,At,6,2,"mat-cell",17),t.BQk(),t.ynx(7,18),t.YNc(8,yt,2,0,"mat-header-cell",19),t.YNc(9,Ot,6,2,"mat-cell",17),t.BQk(),t.ynx(10,20),t.YNc(11,Mt,2,0,"mat-header-cell",19),t.YNc(12,Ut,6,2,"mat-cell",17),t.BQk(),t.ynx(13,21),t.YNc(14,Ft,2,0,"mat-header-cell",19),t.YNc(15,Nt,4,6,"mat-cell",17),t.BQk(),t.ynx(16,22),t.YNc(17,St,2,0,"mat-header-cell",19),t.YNc(18,Rt,2,1,"mat-cell",17),t.BQk(),t.ynx(19,23),t.YNc(20,Jt,2,0,"mat-header-cell",19),t.YNc(21,jt,2,1,"mat-cell",24),t.BQk(),t.YNc(22,Ht,1,0,"mat-header-row",25),t.YNc(23,Bt,1,0,"mat-row",26),t.YNc(24,Vt,3,1,"mat-row",27),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("dataSource",e.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns)}}const $t=function(){return[5,10,25,100]};let Gt=(()=>{class o{constructor(e){this.ticketService=e,this.displayedColumns=["id","codigoContrato","nombreEmpresa","instalacion","motivo","cargo","validacion"],this.dataSource=null,this.state="collapsed",this.filters=[]}ngAfterContentChecked(){this.dataSource&&(this.dataSource.sort=this.sort)}ngOnInit(){this.ticketService.obtenerListado().subscribe(({data:e})=>{this.dataSource=new v.by(e)})}onClick(){this.state="collapsed"==this.state?"expanded":"collapsed"}sortData(e){}addFilter(e){-1==this.filters.indexOf(e)&&this.filters.push(e)}remove(e){const n=this.filters.indexOf(e);this.filters.splice(n,1)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(F))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-mis-tickets"]],viewQuery:function(e,n){if(1&e&&t.Gf(E.YE,5),2&e){let a;t.iGM(a=t.CRH())&&(n.sort=a.first)}},decls:14,vars:6,consts:[["matInput","","type","text",3,"keyup.enter"],["filter",""],["matSuffix","","mat-icon-button","",3,"click"],[1,"filters"],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],[3,"loading"],["matSort","",3,"dataSource","matSortChange",4,"ngIf"],["aria-label","Select page of users",3,"pageSizeOptions"],[3,"selectable","removable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""],["matSort","",3,"dataSource","matSortChange"],["matColumnDef","id"],["mat-sort-header","",3,"ngStyle",4,"matHeaderCellDef"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","codigoContrato"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","nombreEmpresa"],[4,"matHeaderCellDef"],["matColumnDef","instalacion"],["matColumnDef","motivo"],["matColumnDef","cargo"],["matColumnDef","validacion"],["class","centered",4,"matCellDef"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],[4,"matNoDataRow"],["mat-sort-header","",3,"ngStyle"],[3,"ngStyle"],["mat-sort-header",""],[1,"labeled-cell"],[3,"routerLink"],[1,"centered"],[4,"ngFor","ngForOf"],[3,"ngStyle","matTooltip",4,"ngIf"],[3,"ngStyle","matTooltip"],["colspan","4",1,"mat-cell"]],template:function(e,n){if(1&e){const a=t.EpF();t.TgZ(0,"mat-card")(1,"mat-form-field")(2,"input",0,1),t.NdJ("keyup.enter",function(){t.CHM(a);const m=t.MAs(3);return n.addFilter(m.value)}),t.qZA(),t.TgZ(4,"button",2),t.NdJ("click",function(){return n.onClick()}),t.TgZ(5,"mat-icon"),t._uU(6," filter_alt "),t.qZA()()(),t.TgZ(7,"div",3)(8,"mat-chip-list"),t.YNc(9,xt,3,4,"mat-chip",4),t.qZA()()(),t._UZ(10,"app-loading",5),t.TgZ(11,"div"),t.YNc(12,zt,25,4,"mat-table",6),t._UZ(13,"mat-paginator",7),t.qZA()}2&e&&(t.xp6(7),t.Q6J("@detailExpand",n.state),t.xp6(2),t.Q6J("ngForOf",n.filters),t.xp6(1),t.Q6J("loading",!n.dataSource),t.xp6(2),t.Q6J("ngIf",n.dataSource),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(5,$t)))},directives:[l.a8,k.KE,$.Nt,T.lW,k.R9,D.Hw,A.qn,_.sg,A.HS,_.O5,A.qH,G.N,v.BZ,E.YE,v.w1,v.fO,v.ge,E.nU,_.PC,X.Zl,v.Dz,v.ev,h.yS,Ct.gM,v.as,v.XQ,v.nj,v.Gk,v.Ee,Zt.NW],pipes:[_.rS],styles:["mat-header-cell[_ngcontent-%COMP%]{text-align:center;justify-content:center}mat-row[_ngcontent-%COMP%]{gap:10px}mat-row[_ngcontent-%COMP%]   mat-cell[_ngcontent-%COMP%]{white-space:nowrap;gap:10px;text-overflow:ellipsis;overflow:hidden}mat-row[_ngcontent-%COMP%]   mat-cell.centered[_ngcontent-%COMP%]{justify-content:center}mat-card[_ngcontent-%COMP%]{width:auto}.filters[_ngcontent-%COMP%]{overflow:hidden;display:flex}.labeled-cell[_ngcontent-%COMP%]{display:grid;justify-items:start}.labeled-cell[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:gray;font-size:10px}.mat-column-id[_ngcontent-%COMP%]{flex:0 0 10%}"],data:{animation:[(0,q.X$)("detailExpand",[(0,q.SB)("collapsed",(0,q.oB)({height:"0px",minHeight:"0"})),(0,q.SB)("expanded",(0,q.oB)({height:"*"})),(0,q.eR)("expanded <=> collapsed",(0,q.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),o})();var u=r(3075),W=r(508),I=r(3224);let Xt=(()=>{class o{constructor(){}validar(e){return(0,I.validate)(e)}limpiar(e){return(0,I.clean)(e)}formatear(e){return(0,I.format)(e)}digitoVerificador(e){return(0,I.getCheckDigit)(e)}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var Kt=r(4107),L=r(6856);let tt=(()=>{class o{constructor(e,n,a){this.viewContainerRef=e,this.templateRef=n,this.authService=a,this.subscription=[]}ngOnInit(){}ngOnDestroy(){this.subscription.forEach(e=>e.unsubscribe())}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.s_b),t.Y36(t.Rgc),t.Y36(Y.e))},o.\u0275dir=t.lG2({type:o,selectors:[["","ifRoles",""]],inputs:{ifRoles:"ifRoles"}}),o})();const Wt=["picker"];function te(o,i){1&o&&(t.TgZ(0,"mat-hint",32),t._uU(1," Rut valido "),t.qZA())}function ee(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Campo requerido "),t.qZA())}function oe(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Formato invalido "),t.qZA())}function ne(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Sin contratos "),t.qZA())}function ie(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Campo requerido "),t.qZA())}function ae(o,i){if(1&o&&(t.TgZ(0,"mat-option",33),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e.key),t.xp6(1),t.hij("",e.value," ")}}function re(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Campo requerido "),t.qZA())}function ce(o,i){if(1&o&&(t.TgZ(0,"mat-option",33),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e.key),t.xp6(1),t.hij(" ",e.value,"")}}function le(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Campo requerido "),t.qZA())}function se(o,i){1&o&&(t.TgZ(0,"mat-hint",32),t._uU(1," Contratos encontrados "),t.qZA())}function me(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Campo requerido "),t.qZA())}function ue(o,i){if(1&o&&(t.TgZ(0,"mat-option",34),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e.idcontrato),t.xp6(1),t.AsE("(",e.idcontrato,") ",e.nombreContrato,"")}}function de(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Campo requerido "),t.qZA())}function pe(o,i){if(1&o&&(t.TgZ(0,"mat-option",34),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.descripcion)}}function _e(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Campo requerido "),t.qZA())}function fe(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Campo requerido "),t.qZA())}function ge(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Campo requerido "),t.qZA())}function he(o,i){1&o&&(t.TgZ(0,"mat-icon",37),t._uU(1,"cancel"),t.qZA())}function ve(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"mat-chip",35),t.NdJ("removed",function(){const c=t.CHM(e).$implicit;return t.oxw().remove(c)}),t._uU(1),t.YNc(2,he,2,0,"mat-icon",36),t.qZA()}if(2&o){const e=i.$implicit;t.Q6J("selectable",!1)("removable",!0),t.xp6(1),t.hij(" ",e," "),t.xp6(1),t.Q6J("ngIf",!0)}}function Ce(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Campo requerido "),t.qZA())}function Ze(o,i){1&o&&(t.TgZ(0,"div")(1,"strong"),t._uU(2,"permisosssss"),t.qZA()())}const et=function(o){return{"mat-form-field-valid":o}},Te=function(){return[4]},xe={parse:{dateInput:"dd"},display:{dateInput:"dd"}},ke=[{path:"",component:ct,canActivate:[s.B],canActivateChild:[s.B],children:[{path:"",pathMatch:"full",canActivate:[s.B],component:rt},{path:"tickets",component:vt,canActivateChild:[s.B],children:[{path:"",pathMatch:"full",component:Gt},{path:"create",component:(()=>{class o{constructor(e,n,a,c){this.breakpointObserver=e,this.fb=n,this.rutService=a,this.ticketService=c,this.rutValido=!1,this.zonas={},this.empresas={},this.contratos=[],this.conceptos=null,this.touch=!1,this.CLOSE_ON_SELECTED=!1,this.hoy=new Date,this.dias=[],this.rango=[new Date(this.hoy.getFullYear(),this.hoy.getMonth(),1),new Date(this.hoy.getFullYear(),this.hoy.getMonth()+1,0)],this.dateClass=m=>-1!==this.findDate(m)?["selected"]:[],this.personaForm=this.fb.group({rutBeneficiario:[null,[u.kI.required,u.kI.minLength(7),u.kI.maxLength(12)]],codigoPayroll:[null,u.kI.required],nombreBeneficiario:[null,[u.kI.required]],idZona:[null,[u.kI.required,u.kI.pattern(/\d/)]],idEmpresa:[null,[u.kI.required]],codigoInstalacion:[null,u.kI.required],nombreInstalacion:[null,[u.kI.required,u.kI.pattern(/\d/)]],codigoContrato:[null,u.kI.required],nombreContrato:[null,u.kI.required]}),this.justificacionForm=this.fb.group({idConcepto:[null,[u.kI.required]],monto:[null,[u.kI.required]],explicacion:[null,[u.kI.required]],dias:[null,[u.kI.required]]}),this.breakpointObserver.observe([O.u3.Small,O.u3.HandsetPortrait]).subscribe(m=>{this.touch=!!m.matches})}ngOnInit(){this.ticketService.checkConcepto().pipe((0,V.U)(e=>{var n;return e.data.conceptos=null===(n=e.data)||void 0===n?void 0:n.conceptos.filter(a=>"r"===a.tipo),e})).subscribe(e=>{var n;this.conceptos=(null==e?void 0:e.ok)?null===(n=e.data)||void 0===n?void 0:n.conceptos:[]})}formatRut(){const e=this.personaForm.get("rutBeneficiario");(null==e?void 0:e.value.length)<7||(this.rutService.validar(null==e?void 0:e.value)?null==e||e.setErrors({rut:!1}):null==e||e.setErrors({rut:!0}),null==e||e.setValue(this.rutService.formatear(e.value)))}onFocus(){this.rutValido=!1;const e=this.personaForm.get("rutBeneficiario");null==e||e.setValue(this.rutService.limpiar(e.value))}dateChanged(e){var n,a,c;if(e.value){const m=e.value,p=this.findDate(m);if(-1===p?(this.dias.push(m.getDate().toString()),null===(n=this.justificacionForm.get("dias"))||void 0===n||n.setValue(this.dias)):(this.dias.splice(p,1),null===(a=this.justificacionForm.get("dias"))||void 0===a||a.setValue(this.dias)),!this.CLOSE_ON_SELECTED){const f=null===(c=this.picker)||void 0===c?void 0:c.close;this.picker.close=()=>{},this.picker._componentRef.instance._calendar.monthView._createWeekCells(),setTimeout(()=>{this.picker.close=f})}console.log(this.justificacionForm.value)}}findDate(e){return this.dias.map(a=>a).indexOf(e.getDate().toString())}openDatePicker(){this.picker.open()}remove(e){var n;const a=new Date,c=this.findDate(new Date(a.getFullYear(),a.getMonth(),Number(e)));this.dias.splice(c,1),null===(n=this.justificacionForm.get("dias"))||void 0===n||n.setValue(this.dias)}checkRut(){const e=this.personaForm.get("rutBeneficiario");(null==e?void 0:e.valid)?this.ticketService.checkRut(e.value).pipe((0,w.K)(n=>{var a;return null===(a=this.personaForm.get("rutBeneficiario"))||void 0===a||a.setErrors({sinContratos:!0}),(0,Q.of)({data:void 0,ok:!1})})).subscribe(n=>{var a,c,m,p,f,C,Z,g;n.ok&&(console.log(n.data),this.rutValido=!0,this.personaForm.enable(),null===(a=this.personaForm.get("codigoPayroll"))||void 0===a||a.setValue(null===(c=n.data)||void 0===c?void 0:c.codigoPayroll),null===(m=this.personaForm.get("nombreBeneficiario"))||void 0===m||m.setValue(null===(p=n.data)||void 0===p?void 0:p.nombre),this.zonas={[null===(f=n.data)||void 0===f?void 0:f.codigoZona]:null===(C=n.data)||void 0===C?void 0:C.zona},this.empresas={[null===(Z=n.data)||void 0===Z?void 0:Z.codigoEmpresa]:null===(g=n.data)||void 0===g?void 0:g.empresa})}):null==e||e.markAsTouched()}checkContratos(){var e,n,a,c,m,p;const{idZona:f,idEmpresa:C,nombreInstalacion:Z}=this.personaForm.value;if(!f||!C||!Z)return null===(e=this.personaForm.get("idZona"))||void 0===e||e.markAsTouched(),null===(n=this.personaForm.get("codigoEmpresa"))||void 0===n||n.markAsTouched(),null===(a=this.personaForm.get("codigoInstalacion"))||void 0===a||a.markAsTouched(),null===(c=this.personaForm.get("zona"))||void 0===c||c.setErrors({required:!0}),null===(m=this.personaForm.get("empresa"))||void 0===m||m.setErrors({required:!0}),void(null===(p=this.personaForm.get("instalacion"))||void 0===p||p.setErrors({required:!0}));this.contratos=[],this.ticketService.checkContratos(f,C,Z).subscribe(g=>{var x,M;g.ok&&(console.log(g.data),null===(x=this.personaForm.get("codigoInstalacion"))||void 0===x||x.setValue(g.data[0].idInstalacion),null===(M=this.personaForm.get("nombreInstalacion"))||void 0===M||M.setValue(g.data[0].nombreInstalacion),this.contratos=g.data)})}onChange(){var e,n,a;const c=null===(e=this.personaForm.get("codigoContrato"))||void 0===e?void 0:e.value,m=null===(n=this.contratos.find(p=>p.idcontrato==c))||void 0===n?void 0:n.nombreContrato;null===(a=this.personaForm.get("nombreContrato"))||void 0===a||a.setValue(`(${c}) ${m}`)}onSubmit(){this.personaForm.markAllAsTouched(),this.justificacionForm.markAllAsTouched();const e=this.justificacionForm.value,{dias:n}=e,a=(0,B._T)(e,["dias"]),c=new Date(this.hoy.getFullYear(),this.hoy.getMonth(),Number(n.sort()[0])).toISOString(),m=new Date(this.hoy.getFullYear(),this.hoy.getMonth(),Number(n.sort()[n.length-1])).toISOString(),p=Object.assign(Object.assign({fechaInicio:c,fechaTermino:m,dias:`${n}`},this.personaForm.value),a);console.log(p),this.ticketService.enviarReliquidacion(p).subscribe(console.log)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(O.Yg),t.Y36(u.qu),t.Y36(Xt),t.Y36(F))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-reliquidacion"]],viewQuery:function(e,n){if(1&e&&t.Gf(Wt,5),2&e){let a;t.iGM(a=t.CRH())&&(n.picker=a.first)}},features:[t._Bn([{provide:W.sG,useValue:xe}])],decls:94,vars:46,consts:[[3,"loading"],[1,"header"],[3,"formGroup"],["fxLayout","column","fxLayout.md","row","fxLayout.lg","row","fxLayout.xl","row","fxLayoutGap","90px"],["fxFlex","50%",1,"input-wrapper"],["appearance","outline",3,"ngClass"],["matInput","","placeholder","Ej: 12.345.678-9","formControlName","rutBeneficiario",3,"maxlength","focus","change","focusout"],["class","success",4,"ngIf"],[4,"ngIf"],["type","button","mat-flat-button","","color","primary",3,"click"],["appearance","outline","fxFlex","50%"],["matInput","","formControlName","nombreBeneficiario"],["appearance","outline"],["formControlName","idZona",3,"disabled"],["selected","",3,"value",4,"ngFor","ngForOf"],["formControlName","idEmpresa",3,"disabled"],["matInput","","formControlName","nombreInstalacion"],["matInput","","formControlName","codigoContrato",3,"disabled","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","idConcepto"],["matInput","","formControlName","monto"],["matInput","","formControlName","explicacion","required",""],[3,"click"],["chipList",""],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],["matInput","","formControlName","dias","placeholder","Seleccione los dias considerados",3,"min","max","matDatepicker","matChipInputFor","click","dateChange"],["matPrefix","",3,"for"],[3,"touchUi","startAt","dateClass"],["picker",""],[4,"ifRoles"],[1,"actions"],["mat-flat-button","","color","primary",3,"click"],[1,"success"],["selected","",3,"value"],[3,"value"],[3,"selectable","removable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""]],template:function(e,n){if(1&e&&(t._UZ(0,"app-loading",0),t.TgZ(1,"mat-card")(2,"mat-card-title",1),t._uU(3,"Reliquidaciones EULEN"),t.qZA(),t.TgZ(4,"mat-card-content")(5,"mat-card-subtitle"),t._uU(6," Persona a reliquidar "),t.qZA(),t.TgZ(7,"form",2)(8,"div",3)(9,"div",4)(10,"mat-form-field",5)(11,"mat-label"),t._uU(12,"Rut"),t.qZA(),t.TgZ(13,"input",6),t.NdJ("focus",function(){return n.onFocus()})("change",function(){return n.rutValido=!1})("focusout",function(){return n.formatRut()}),t.qZA(),t.YNc(14,te,2,0,"mat-hint",7),t.YNc(15,ee,2,0,"mat-error",8),t.YNc(16,oe,2,0,"mat-error",8),t.YNc(17,ne,2,0,"mat-error",8),t.qZA(),t.TgZ(18,"button",9),t.NdJ("click",function(){return n.checkRut()}),t._uU(19,"Buscar"),t.qZA()(),t.TgZ(20,"mat-form-field",10)(21,"mat-label"),t._uU(22,"Nombre completo"),t.qZA(),t._UZ(23,"input",11),t.YNc(24,ie,2,0,"mat-error",8),t.qZA()(),t.TgZ(25,"div",3)(26,"mat-form-field",12)(27,"mat-label"),t._uU(28,"Zona"),t.qZA(),t.TgZ(29,"mat-select",13),t.YNc(30,ae,2,2,"mat-option",14),t.ALo(31,"keyvalue"),t.qZA(),t.YNc(32,re,2,0,"mat-error",8),t.qZA(),t.TgZ(33,"mat-form-field",12)(34,"mat-label"),t._uU(35,"Empresa"),t.qZA(),t.TgZ(36,"mat-select",15),t.YNc(37,ce,2,2,"mat-option",14),t.ALo(38,"keyvalue"),t.qZA(),t.YNc(39,le,2,0,"mat-error",8),t.qZA()(),t.TgZ(40,"div",3)(41,"div",4)(42,"mat-form-field",5)(43,"mat-label"),t._uU(44,"Instalacion"),t.qZA(),t._UZ(45,"input",16),t.YNc(46,se,2,0,"mat-hint",7),t.YNc(47,me,2,0,"mat-error",8),t.qZA(),t.TgZ(48,"button",9),t.NdJ("click",function(){return n.checkContratos()}),t._uU(49,"Buscar contratos"),t.qZA()(),t.TgZ(50,"mat-form-field",10)(51,"mat-label"),t._uU(52,"Contrato"),t.qZA(),t.TgZ(53,"mat-select",17),t.NdJ("selectionChange",function(){return n.onChange()}),t.YNc(54,ue,2,3,"mat-option",18),t.qZA(),t.YNc(55,de,2,0,"mat-error",8),t.qZA()()()(),t.TgZ(56,"mat-card-content")(57,"mat-card-subtitle"),t._uU(58," Justificacion y monto "),t.qZA(),t.TgZ(59,"form",2)(60,"div",3)(61,"mat-form-field",12)(62,"mat-label"),t._uU(63,"Concepto"),t.qZA(),t.TgZ(64,"mat-select",19),t.YNc(65,pe,2,2,"mat-option",18),t.qZA(),t.YNc(66,_e,2,0,"mat-error",8),t.qZA(),t.TgZ(67,"mat-form-field",12)(68,"mat-label"),t._uU(69,"Monto"),t.qZA(),t._UZ(70,"input",20),t.YNc(71,fe,2,0,"mat-error",8),t.qZA()(),t.TgZ(72,"div",3)(73,"mat-form-field",12)(74,"mat-label"),t._uU(75,"Explicacion"),t.qZA(),t._UZ(76,"textarea",21),t.YNc(77,ge,2,0,"mat-error",8),t.qZA()(),t.TgZ(78,"div")(79,"mat-form-field",12)(80,"mat-label"),t._uU(81,"Seleccione los dias considerados"),t.qZA(),t.TgZ(82,"mat-chip-list",22,23),t.NdJ("click",function(){return n.openDatePicker()}),t.YNc(84,ve,3,4,"mat-chip",24),t.TgZ(85,"input",25),t.NdJ("click",function(){return n.openDatePicker()})("dateChange",function(c){return n.dateChanged(c)}),t.qZA()(),t._UZ(86,"mat-datepicker-toggle",26)(87,"mat-datepicker",27,28),t.YNc(89,Ce,2,0,"mat-error",8),t.qZA()()()(),t.YNc(90,Ze,3,0,"div",29),t.TgZ(91,"div",30)(92,"button",31),t.NdJ("click",function(){return n.onSubmit()}),t._uU(93,"Enviar"),t.qZA()()()),2&e){const a=t.MAs(83),c=t.MAs(88);let m,p,f,C,Z,g,x,M,ot,nt,it,at;t.Q6J("loading",!n.conceptos),t.xp6(7),t.Q6J("formGroup",n.personaForm),t.xp6(3),t.Q6J("ngClass",t.VKq(41,et,n.rutValido)),t.xp6(3),t.Q6J("maxlength",12),t.xp6(1),t.Q6J("ngIf",n.rutValido),t.xp6(1),t.Q6J("ngIf",null==(m=n.personaForm.get("rutBeneficiario"))?null:m.hasError("required")),t.xp6(1),t.Q6J("ngIf",null==(p=n.personaForm.get("rutBeneficiario"))?null:p.hasError("rut")),t.xp6(1),t.Q6J("ngIf",null==(f=n.personaForm.get("rutBeneficiario"))?null:f.hasError("sinContratos")),t.xp6(7),t.Q6J("ngIf",null==(C=n.personaForm.get("nombreBeneficiario"))?null:C.hasError("required")),t.xp6(5),t.Q6J("disabled",!n.rutValido),t.xp6(1),t.Q6J("ngForOf",t.lcZ(31,37,n.zonas)),t.xp6(2),t.Q6J("ngIf",null==(Z=n.personaForm.get("idZona"))?null:Z.hasError("required")),t.xp6(4),t.Q6J("disabled",!n.rutValido),t.xp6(1),t.Q6J("ngForOf",t.lcZ(38,39,n.empresas)),t.xp6(2),t.Q6J("ngIf",null==(g=n.personaForm.get("idEmpresa"))?null:g.hasError("required")),t.xp6(3),t.Q6J("ngClass",t.VKq(43,et,n.contratos.length>0)),t.xp6(4),t.Q6J("ngIf",n.contratos.length>0),t.xp6(1),t.Q6J("ngIf",null==(x=n.personaForm.get("nombreInstalacion"))?null:x.hasError("required")),t.xp6(6),t.Q6J("disabled",!n.rutValido),t.xp6(1),t.Q6J("ngForOf",n.contratos),t.xp6(1),t.Q6J("ngIf",null==(M=n.personaForm.get("codigoContrato"))?null:M.hasError("required")),t.xp6(4),t.Q6J("formGroup",n.justificacionForm),t.xp6(6),t.Q6J("ngForOf",n.conceptos),t.xp6(1),t.Q6J("ngIf",null==(ot=n.justificacionForm.get("idConcepto"))?null:ot.hasError("required")),t.xp6(5),t.Q6J("ngIf",null==(nt=n.justificacionForm.get("monto"))?null:nt.hasError("required")),t.xp6(6),t.Q6J("ngIf",null==(it=n.justificacionForm.get("explicacion"))?null:it.hasError("required")),t.xp6(7),t.Q6J("ngForOf",n.dias),t.xp6(1),t.Q6J("min",n.rango[0])("max",n.rango[1])("matDatepicker",c)("matChipInputFor",a),t.xp6(1),t.Q6J("for",c),t.xp6(1),t.Q6J("touchUi",n.touch)("startAt",n.hoy)("dateClass",n.dateClass),t.xp6(2),t.Q6J("ngIf",null==(at=n.justificacionForm.get("fechas"))?null:at.hasError("required")),t.xp6(1),t.Q6J("ifRoles",t.DdM(45,Te))}},directives:[G.N,l.a8,l.n5,l.dn,l.$j,u._Y,u.JL,u.sg,d.xw,d.SQ,d.yH,k.KE,_.mk,X.oO,k.hX,$.Nt,u.Fj,u.JJ,u.u,u.nD,_.O5,k.bx,k.TO,T.lW,Kt.gD,_.sg,W.ey,u.Q7,A.qn,A.HS,D.Hw,A.qH,L.hl,A.oH,L.nW,k.qo,L.Mq,tt],pipes:[_.Nd],styles:["mat-card[_ngcontent-%COMP%]{display:grid;grid-gap:30px;gap:30px}button[_ngcontent-%COMP%]{margin-left:10px}div.actions[_ngcontent-%COMP%]{display:flex;justify-content:center}div.input-wrapper[_ngcontent-%COMP%]{display:flex;align-items:flex-start}div.input-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:none;margin-top:12px}  mat-form-field{width:100%}  mat-form-field mat-chip-list{width:100%;height:100%}  .mat-calendar-body-cell.selected>.mat-calendar-body-cell-content,   .mat-calendar-body-cell.selected:hover>.mat-calendar-body-cell-content,   .mat-calendar-body-cell.selected>.mat-calendar-body-cell-content:hover{background-color:#001b46!important;color:#fff!important}"]}),o})()},{path:"pending",component:(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-ticket-pendientes"]],decls:2,vars:0,template:function(e,n){1&e&&(t.TgZ(0,"p"),t._uU(1,"ticket-pendientes works!"),t.qZA())},styles:[""]}),o})()},{path:"details/:id",component:_t},{path:"**",redirectTo:""}]}]}];let Ae=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[h.Bz.forChild(ke)],h.Bz]}),o})();var ye=r(6227);let Oe=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[F,tt,Y.e],imports:[[_.ez,h.Bz,u.UX,z.JF,Ae,ye.m]]}),o})()},3224:j=>{function b(s){return"string"==typeof s?s.replace(/^0+|[^0-9kK]+/g,"").toUpperCase():""}j.exports={validate:function r(s){if("string"!=typeof s||/^0+/.test(s)||!/^0*(\d{1,3}(\.?\d{3})*)-?([\dkK])$/.test(s))return!1;s=b(s);let t=parseInt(s.slice(0,-1),10),d=0,l=1;for(;t>0;)l=(l+t%10*(9-d++%6))%11,t=Math.floor(t/10);return(l>0?""+(l-1):"K")===s.slice(-1)},clean:b,format:function _(s,t={dots:!0}){let d;if(s=b(s),t.dots){d=s.slice(-4,-1)+"-"+s.substr(s.length-1);for(let l=4;l<s.length;l+=3)d=s.slice(-3-l,-l)+"."+d}else d=s.slice(0,-1)+"-"+s.substr(s.length-1);return d},getCheckDigit:function h(s){const t=Array.from(b(s),Number);if(0===t.length||t.includes(NaN))throw new Error(`"${s}" as RUT is invalid`);const T=11-t.reverse().reduce((N,S,R)=>N+S*(R%6+2),0)%11;return 10===T?"K":11===T?"0":T.toString()}}}}]);